(function(){"use strict";ken.modules={};Utils();Polyfills();ModuleHeader();ken.utils.polyfills.initAll()})();function ModuleHeader(){(function(a){"use strict";ken.modules.header=function(){var b={calcHeight:h};var c=a(window);var d=ken.utils.JSONLookup("theme_header"),e=ken.utils.JSONLookup("mk_header"),f=0,g=0;function h(){if(php.hasAdminbar){if(c.width()>782){f=32}else{f=46}}g=f+(d[0]!=undefined?d[0].params.stickyHeight:0)+(e[0]!=undefined?e[0].params.stickyHeight:0);return Math.round(g)}return b}()})(jQuery)}function Utils(){(function(){ken.utils=function(){"use strict";var a={JSONLookup:b};function b(a){var b=[];for(var c=0,d=php.json.length;c<d;c++){if(php.json[c].name==a){b.push(php.json[c])}}return b}return a}()})()}function Polyfills(){(function(){"use strict";ken.utils.polyfills=function(){var a={bindPolyfill:b,rAFPolyfill:c,initAll:function(){b();c()}};function b(){if(!Function.prototype.bind){Function.prototype.bind=function(a){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};d.prototype=this.prototype;e.prototype=new d;return e}}}function c(){var a,b,c;a=0;b=["webkit","moz"];c=0;while(c<b.length&&!window.requestAnimationFrame){window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];++c}if(!window.requestAnimationFrame){window.requestAnimationFrame=function(b,c){var d,e,f;d=(new Date).getTime();f=Math.max(0,16-(d-a));e=window.setTimeout(function(){b(d+f)},f);a=d+f;return e}}if(!window.cancelAnimationFrame){window.cancelAnimationFrame=function(a){clearTimeout(a)}}}return a}()})()}var abb={};function is_touch_device(){return!!("ontouchstart"in window)||!!("onmsgesturechange"in window)}jQuery.exists=function(a){return jQuery(a).length>0};jQuery.fn.hasAttr=function(a){return this.attr(a)!==undefined};var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"Other";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"Unknown"},searchString:function(a){for(var b=0;b<a.length;b++){var c=a[b].string;this.versionSearchString=a[b].subString;if(c.indexOf(a[b].subString)!==-1){return a[b].identity}}},searchVersion:function(a){var b=a.indexOf(this.versionSearchString);if(b===-1){return}var c=a.indexOf("rv:");if(this.versionSearchString==="Trident"&&c!==-1){return parseFloat(a.substring(c+3))}else{return parseFloat(a.substring(b+this.versionSearchString.length+1))}},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"MSIE",identity:"IE"},{string:navigator.userAgent,subString:"Trident",identity:"IE"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"}]};BrowserDetect.init();jQuery("html").addClass(BrowserDetect.browser).addClass(BrowserDetect.browser+BrowserDetect.version);(function(a){"use strict";function b(){var a=window.navigator.userAgent;var b=a.indexOf("MSIE ");var c=a.indexOf("Trident/");if(b>0){return parseInt(a.substring(b+5,a.indexOf(".",b)),10)}if(c>0){var d=a.indexOf("rv:");return parseInt(a.substring(d+3,a.indexOf(".",d)),10)}return false}var c=window.pageYOffset!==undefined?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,d=a(window).width(),e=a(window).height(),f,g=0;a(window).load(function(){if(a.exists("#wpadminbar")){f=a("#wpadminbar")}});if(php.hasAdminbar){if(a(window).width()>782){g=32}else{g=46}}function h(){d=a(window).width();e=a(window).height()}window.scroll=function(){c=window.pageYOffset!==undefined?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop};abb.fullHeight=function(){var b=a("#mk-header"),c=a(window).height(),d=g,e;var f=0;if(b)f=b.data("height");if(b.hasClass("transparent-header"))f=0;if(b.hasClass("sticky-trigger-header"))f=b.data("sticky-height");if(b.hasClass("header-structure-vertical"))f=0;e=c-(d+f);return e};abb.smoothScrollTo=function(b,c){a("html, body").stop().animate({scrollTop:b},{duration:c,easing:"easeInOutExpo"})};var i=function(a,b){var c=Date.now(),d=null;return function e(){if(Date.now()-c>b){c=Date.now();clearTimeout(d);window.requestAnimationFrame(a)}else{clearTimeout(d);d=setTimeout(e,b)}}};var j={sets:[],init:function(){this.update();this.attachEvents()},attachEvents:function(){window.addEventListener("scroll",i(this.play.bind(this),0))},add:function(a){this.sets.push(a)},play:function(){this.update();this.sets.forEach(function(a){a(c)}.bind(this))},update:function(){c=window.pageYOffset!==undefined?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}};j.init();var k={sets:[],init:function(){this.attachEvents()},attachEvents:function(){window.addEventListener("scroll",i(this.play.bind(this),200))},add:function(a){this.sets.push(a)},play:function(){this.sets.forEach(function(a){a(c)}.bind(this))}};k.init();function l(){if(a.exists("#mk-header.theme-main-header.header-align-center")){var b=a(".theme-main-header .main-navigation-ul"),c=b.find("> .menu-item"),d=b.find(".mk-header-logo"),e=0,f=0,g=0,h=0,i=Math.floor(c.length/2),j=Math.ceil(c.length/2);for(var k=0;k<i;k++){e+=a(c[k]).width()}for(var k=0;k<j;k++){f+=a(c[k]).width()}for(var k=i-1;k<c.length;k++){g+=a(c[k]).width()}for(var k=j-1;k<c.length;k++){h+=a(c[k]).width()}if(f>=h){d.clone().addClass("mk-header-logo-center").insertAfter(c[j-1]);d.remove()}else{d.clone().addClass("mk-header-logo-center").insertAfter(c[i-1]);d.remove()}}}l();function m(){"use strict";var b=a(".theme-main-header"),c=a("#theme-page .vc_row").first().find(".mk-secondary-header"),d=a(".sticky-header-padding");if(b.length&&c.length){b.append(c);c.removeClass("sticky-header");var e=b.data("height"),f=b.data("sticky-height"),g=c.height(),h=c.data("sticky-height"),i=parseInt(d.css("padding-top").replace("px",""));b.attr("data-height",e+g);b.attr("data-sticky-height",f+h);d.css({"padding-top":i+g+"px"})}}m();function n(){"use strict";if(!is_touch_device()){a("#mk-page-title").each(function(){var b,d,f=a(this),h=f.outerHeight(),i=f.attr("data-fullHeight"),k=0,l=f.offset().top+h,m=f.find(".mk-page-title-bg"),n=f.find(".mk-effect-gradient-layer"),o=f.attr("data-intro");var p=function(){var b=f.find(".mk-page-heading"),c=f.attr("data-fullHeight"),d=0,h=f.attr("data-height"),i=0;if(a.exists("#mk-header.sticky-header")&&!a("#mk-header").hasClass("transparent-header")){var d=parseInt(a("#mk-header.sticky-header").attr("data-sticky-height"))}if(c==="true"){i=e-d-g}else{i=h}f.css("height",i);if(a("#mk-header").hasClass("transparent-header")&&c=="true"){var j=parseInt(a("#mk-header").attr("data-height"));var k=parseInt(f.css("padding-top"));f.css({padding:0});b.css({"padding-top":i/2-b.height()/2+"px"})}};p();if(i=="true"){a(window).on("debouncedresize",function(){p()})}if(a("#mk-header").hasClass("transparent-header")&&i!="true"){var q=parseInt(a("#mk-header").attr("data-height"));var r=parseInt(f.css("padding-top"));f.css({"padding-top":r+q+"px"})}var s=.7,t=1.4;if(o=="parallax"){var u=function(){d=(k+c)*s;m.css({transform:"translateY("+d+"px)"})};u();j.add(u)}if(o=="parallaxZoomOut"){var u=function(){d=(k+c)*s;b=1/(l-k)*(c-k);var a=t-(t-1.2)*b;m.css({transform:"translateY("+d+"px), scale("+a+")"})};u();j.add(u)}if(o=="gradient"){var u=function(){b=1/(l-k)*(c-k);n.css({opacity:b*2})};u();j.add(u)}})}}var o={loader:function(a){var b=a,c=b.find(".mk-progress-button .mk-progress-inner"),d=b.find(".mk-progress-button .mk-progress-button-content"),e=new TimelineLite;e.to(c,0,{width:"100%",scaleX:0,scaleY:1}).to(d,.3,{y:-5}).to(c,1.5,{scaleX:1,ease:Power2.easeInOut},"-=.1").to(d,.3,{y:0}).to(c,.3,{scaleY:0})},success:function(a){var b=a,c=b.find(".mk-button .mk-progress-button-content, .mk-contact-button .mk-progress-button-content"),d=b.find(".mk-progress-button .state-success"),e=new TimelineLite({onComplete:f});e.to(c,.3,{paddingRight:20,ease:Power2.easeInOut},"+=1").to(d,.3,{opacity:1}).to(d,2,{opacity:1});function f(){e.reverse()}},error:function(a){var b=a,c=b.find(".mk-button .mk-progress-button-content, .mk-contact-button .mk-progress-button-content"),d=b.find(".mk-progress-button .state-error"),e=new TimelineLite({onComplete:f});e.to(c,.3,{paddingRight:20},"+=1").to(d,.3,{opacity:1}).to(d,2,{opacity:1});function f(){e.reverse()}}};function p(){if(!a.exists(".mk-window-scroller")){return false}a(".mk-window-scroller").each(function(){var b=a(this),c=b.attr("data-height"),d=b.find("img"),e=parseInt(b.attr("data-speed"));b.stop(true,true).hoverIntent(function(){d.animate({top:-(d.height()-c)},e)},function(){d.animate({top:0},e/3)})})}function q(){var b=a("#mk-header").first();if(b.hasClass("sticky-header")&&d>mk_nav_res_width){var e=b.attr("data-header-structure");if(e=="vertical"){var f=100}else{var f=parseInt(mk_header_padding*2+mk_logo_height)+30}var g=function(){if(d>mk_nav_res_width){if(c>f){b.addClass("sticky-trigger-header")}else{b.removeClass("sticky-trigger-header")}}};k.add(g)}}function r(){var b=a("#mk-header");if(b.hasClass("transparent-header")&&d>mk_nav_res_width){var f=false;var g=function(){var g=a(".mk-edge-slider.first-el-true").find(".swiper-slide-active").attr("data-header-skin"),h=b.attr("data-header-structure");if(h=="vertical"){var i=100}else{var i=parseInt(mk_header_padding*2+mk_logo_height)+30}mk_header_trans_offset=mk_header_trans_offset==0?e:mk_header_trans_offset;if(d>mk_nav_res_width){if(c>i||f){b.addClass("header-offset-passed")}else{b.removeClass("header-offset-passed")}if(c>mk_header_trans_offset||f){b.addClass("transparent-header-sticky sticky-trigger-header").removeClass("light-header-skin dark-header-skin")}else{if(g!=""&&typeof g!=="undefined"){b.removeClass("transparent-header-sticky sticky-trigger-header").addClass(g+"-header-skin")}else{b.removeClass("transparent-header-sticky sticky-trigger-header").addClass(b.attr("data-transparent-skin")+"-header-skin")}}}};k.add(g);a("body").on("page_intro",function(){setTimeout(function(){f=true;g()},1e3)});a("body").on("page_outro",function(){setTimeout(function(){f=false;g()},500)})}}function s(){"use strict";var b=a("body");if(!b.hasClass("navigation-initialised")){a(".main-navigation-ul").MegaMenu({type:"vertical",delay:200});a("#mk-vm-menu").dlmenu();b.addClass("navigation-initialised")}}a("body").data("res-nav-appended",false);function t(){if(d>mk_nav_res_width){a(".mk-responsive-nav").hide();setTimeout(function(){s()},200);if(a("#mk-header").attr("data-header-style")=="transparent"){a("#mk-header").addClass("transparent-header "+a("#mk-header").attr("data-transparent-skin")+"-header-skin")}}else{a(".main-navigation-ul, .mk-vertical-menu").each(function(){var b=a(this),c=a(".responsive-nav-container");if(!c.hasClass("res-nav-appended")){b.clone().attr({"class":"mk-responsive-nav"}).appendTo(c);c.addClass("res-nav-appended")}});a(".mk-responsive-nav > li > ul").each(function(){if(!a(this).siblings("a").find("span").length){a(this).siblings("a").append('<span class="mk-theme-icon-bottom-big mk-nav-arrow mk-nav-sub-closed"></span>')}});a(".mk-responsive-nav").show();if(!a("body").data("res-nav-appended")){a(".mk-responsive-nav > li").stop(true).on("click",function(b){var c=a(this),d=c.find(".mk-nav-arrow");if(a(b.target).hasClass("mk-nav-arrow")||a(b.target).hasClass("mk-nav-open")){if(d.hasClass("mk-nav-sub-closed")){d.parent().siblings("ul").slideDown(450).end().end().removeClass("mk-nav-sub-closed").addClass("mk-nav-sub-opened")}else{d.parent().siblings("ul").slideUp(450).end().end().removeClass("mk-nav-sub-opened").addClass("mk-nav-sub-closed")}b.preventDefault()}});a("body").data("res-nav-appended",true)}if(a("#mk-header").attr("data-header-style")=="transparent"){a("#mk-header").removeClass("transparent-header "+a("#mk-header").attr("data-transparent-skin")+"-header-skin")}if(!a.exists("#mk-responsive-wrap")){var b=0;var c=a(window).outerHeight();if(a.exists("#wpadminbar")){b+=a("#wpadminbar").outerHeight()}if(a.exists(".responsive-nav-container")){b+=a("#mk-header").height();var e=c-b;a(".responsive-nav-container").wrap('<div id="mk-responsive-wrap" style="max-height:'+e+"px; top: "+b+'px;"></div>')}a(window).on("resize",function(){a("#mk-responsive-wrap").css({"max-height":a(window).height()-b+"px"})})}}if(d<mk_grid_width){a(".main-navigation-ul .sub-container.mega, .main-navigation-ul .sub-container.mega .row").each(function(){a(this).css("width",d-40)})}}var u;function v(){if(a.exists(".mk-secondary-header")){u=a(".mk-secondary-header").offset().top}}function w(){var b=a(".mk-secondary-header");if(b.length){var d=0;if(a.exists("#mk-header.sticky-header")){d=parseInt(a("#mk-header.sticky-header").attr("data-sticky-height"))}if(a.exists(".mk-header-toolbar")&&a.exists("#mk-header.sticky-header")){d+=35}if(!a(".mk-secondary-header").parent().hasClass("theme-main-header")){var e=u-d-g;var f=function(){if(c>e){b.addClass("secondary-header-sticky").css("top",d+g);a(".secondary-header-space").addClass("secondary-space-sticky")}else{b.removeClass("secondary-header-sticky").css("top","auto");a(".secondary-header-space").removeClass("secondary-space-sticky")}};k.add(f)}}}var x=function(){return{init:function(){var b=!!window.devicePixelRatio?window.devicePixelRatio:1;if(b>1){a("img").each(function(b,c){c=a(c);if(c.attr("data-retina-src")){c.attr("data-src-orig",c.attr("src"));c.attr("src",c.attr("data-retina-src"))}})}}}}();x.init();a(window).load(function(){a(".mk-milestone").one("inview",function(b,c){if(c==true){var d=a(this),e=d.find(".milestone-number").attr("data-stop"),f=parseInt(d.find(".milestone-number").attr("data-speed"));a({countNum:d.find(".milestone-number").text()}).animate({countNum:e},{duration:f,step:function(){d.find(".milestone-number").text(Math.floor(this.countNum))},complete:function(){d.find(".milestone-number").text(this.countNum)}})}});a(".mk-skill-meter .progress-outer").one("inview",function(b,c){if(c==true){var d=a(this);d.animate({width:a(this).attr("data-width")+"%"},2e3)}});a(".mk-chart").one("inview",function(b,c){if(c==true){var d=a(this),e=a(this).parent().width(),f=d.attr("data-barSize");if(e<f){f=e;d.css("line-height",f);d.find("i").css({"line-height":f+"px","font-size":f/3})}d.easyPieChart({animate:1300,lineCap:"square",lineWidth:d.attr("data-lineWidth"),size:f,barColor:d.attr("data-barColor"),trackColor:d.attr("data-trackColor"),scaleColor:"transparent",onStep:function(a){this.$el.find(".chart-percent span").text(Math.ceil(a))}})}});if(is_touch_device()||d<800){a("body").addClass("no-transform").find(".mk-animate-element").removeClass("mk-animate-element")}a(".mk-animate-element").one("inview",function(b,c){if(c==true){a(this).addClass("mk-in-viewport")}})});function y(){"use strict";a(".mk-gmaps").each(function(){var b=a(this),c=b.attr("id"),d=parseInt(b.attr("data-zoom")),f=b.attr("data-latitude"),h=b.attr("data-longitude"),i=b.attr("data-address"),j=b.attr("data-latitude2"),k=b.attr("data-longitude2"),l=b.attr("data-address2"),m=b.attr("data-latitude3"),n=b.attr("data-longitude3"),o=b.attr("data-address3"),p=b.attr("data-pin-icon"),q=b.attr("data-pan-control")==="true"?true:false,r=b.attr("data-map-type-control")==="true"?true:false,s=b.attr("data-scale-control")==="true"?true:false,t=b.attr("data-draggable")==="true"?true:false,u=b.attr("data-zoom-control")==="true"?true:false,v=b.attr("data-modify-coloring")==="true"?true:false,w=b.attr("data-saturation"),x=b.attr("data-hue"),y=b.attr("data-lightness"),z=b.attr("data-fullHeight")==="true"?true:false,A,B=0,C=b.parent(),D=C.height(),E;var F=function(){if(a.exists("#mk-header")&&!a("#mk-header").hasClass("transparent-header")){if(a("#mk-header").hasClass("sticky-header")){B=parseInt(a("#mk-header").attr("data-sticky-height"))}else{B=parseInt(a("#mk-header").attr("data-height"))}}if(z===true){A=e-B-g}else{A=D}C.height(A);if(C.hasClass("mk-gmaps-parallax")){b.height(A+200)}else{b.height(A)}};if(v==true){var E=[{stylers:[{hue:x},{saturation:w},{lightness:y},{featureType:"landscape.man_made",stylers:[{visibility:"on"}]}]}]}var G;function H(){var a=new google.maps.LatLngBounds;var b={zoom:d,panControl:q,zoomControl:u,mapTypeControl:r,scaleControl:s,draggable:t,scrollwheel:false,mapTypeId:google.maps.MapTypeId.ROADMAP,styles:E};G=new google.maps.Map(document.getElementById(c),b);G.setTilt(45);var e=[];var g=[];if(f!=""&&h!=""){e[0]=[i,f,h];g[0]=['<div class="info_content"><p>'+i+"</p></div>"]}if(j!=""&&k!=""){e[1]=[l,j,k];g[1]=['<div class="info_content"><p>'+l+"</p></div>"]}if(m!=""&&n!=""){e[2]=[o,m,n];g[2]=['<div class="info_content"><p>'+o+"</p></div>"]}var v=new google.maps.InfoWindow,w,x;for(x=0;x<e.length;x++){var y=new google.maps.LatLng(e[x][1],e[x][2]);a.extend(y);w=new google.maps.Marker({position:y,map:G,title:e[x][0],icon:p});google.maps.event.addListener(w,"click",function(a,b){return function(){v.setContent(g[b][0]);v.open(G,a)}}(w,x));G.fitBounds(a)}var z=google.maps.event.addListener(G,"bounds_changed",function(a){this.setZoom(d);google.maps.event.removeListener(z)})}a(window).load(function(){F();setTimeout(function(){H()},500)});a(window).on("resize",function(){setTimeout(function(){F();google.maps.event.trigger(G,"resize")},500)})});a(window).load(function(){if(a.exists(".mk-gmaps-parallax")){var b=skrollr.init({forceHeight:false});b.refresh(a(".mk-page-section"))}})}a(".mk-header-search, .mk-side-dashboard, .dashboard-trigger, .search-ajax-input, .mk-quick-contact-inset").click(function(a){if(a.stopPropagation){a.stopPropagation()}else if(window.event){window.event.cancelBubble=true}});a("html").click(function(){a(".header-search-icon").removeClass("search-clicked");a("form.header-searchform-input").fadeOut(250);a("#mk-header").removeClass("header-search-triggered");a(".mk-secondary-header").removeClass("header-search-triggered");a(".dashboard-trigger").removeClass("dashboard-active");a(".theme-main-wrapper, .mk-side-dashboard").removeClass("dashboard-opened")});a(".header-search-icon").on("click",function(b){var c=a(this);c.parent().parent().parent().next().fadeIn(250);c.parent().parent().parent().next().find("input[type=text]").focus();if(mk_boxed_header=="0"){c.parent().parent().parent().parent().addClass("header-search-triggered")}else{c.parent().parent().parent().parent().parent().addClass("header-search-triggered")}b.preventDefault()});a(".header-search-close").on("click",function(b){var c=a(this);c.parent().fadeOut(250);c.parent().parent().parent().removeClass("header-search-triggered");b.preventDefault()});a(".dashboard-trigger").on("click",function(b){var c=a(this);if(!c.hasClass("dashboard-active")){c.addClass("dashboard-active");a(".theme-main-wrapper, .mk-side-dashboard").addClass("dashboard-opened")}else{c.removeClass("dashboard-active");a(".theme-main-wrapper, .mk-side-dashboard").removeClass("dashboard-opened")}b.preventDefault()});a(".responsive-nav-link").on("click",function(b){var c=a(this),d=a("#mk-header"),e=a(".responsive-nav-container");if(!c.hasClass("active-burger")){if(d.hasClass("theme-main-header")){c.addClass("active-burger");e.slideDown();a("body").removeClass("mk-closed-nav").addClass("mk-opened-nav").trigger("mk-opened-nav")}else{var f=c.offset().top-g;abb.smoothScrollTo(f,500);c.addClass("active-burger");setTimeout(function(){e.slideDown();a("#mk-responsive-wrap").css({position:"absolute",top:"auto","max-height":a(document).height()+"px",width:a(window).width()+"px"})},300)}}else{if(d.hasClass("theme-main-header")){c.removeClass("active-burger");e.slideUp();a("body").removeClass("mk-opened-nav").addClass("mk-closed-nav").trigger("mk-closed-nav")}else{c.removeClass("active-burger");e.slideUp()}}b.preventDefault()});function z(){jQuery(".mk-lightbox").fancybox({padding:15,margin:15,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:true,autoHeight:false,autoWidth:false,autoResize:true,fitToView:true,aspectRatio:false,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:true,closeBtn:true,closeClick:false,nextClick:false,mouseWheel:true,autoPlay:false,playSpeed:3e3,preload:3,modal:false,loop:true,openEffect:"elastic",openSpeed:250,openEasing:"swing",openOpacity:true,openMethod:"zoomIn",closeEffect:"elastic",closeSpeed:250,closeEasing:"swing",closeOpacity:true,closeMethod:"zoomOut",nextEffect:"fade",nextSpeed:350,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"fade",prevSpeed:350,prevEasing:"swing",prevMethod:"changeOut",tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"><i class="mk-icon-times"></i></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span><i class="mk-theme-icon-next-big"></i></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span><i class="mk-theme-icon-prev-big"></i></span></a>',loading:'<div id="fancybox-loading"><div></div></div>'}})}function A(){a(".mk-edge-slider").each(function(b,c){var d=a(this),e=d.find(".edge-slider-holder"),f=a(".mk-edge-nav"),h=d.find(".mk-edge-next"),i=d.find(".mk-edge-prev"),k=d.attr("data-pause"),l=d.attr("data-first"),m=d.attr("data-speed"),n=d.attr("data-animation"),o=d.attr("data-loop"),p=d.attr("data-hash")=="true"?true:false,q=d.attr("data-height"),r=d.attr("data-fullHeight"),s=0,t=0,u=d.attr("data-pagination")=="true"?true:false;if(u===true){var v="#"+d.attr("id")+" .swiper-pagination";a(v).on("click","span",function(b){b.preventDefault();x.swipeTo(a(this).index(),500)});d.find(".edge-skip-slider").css("bottom","14%")}else{var v=false}var w=function(){if(a.exists("#mk-header")&&!a("#mk-header").hasClass("transparent-header")&&!a("#mk-header").hasClass("header-structure-vertical")){s=parseInt(a("#mk-header").attr("data-sticky-height"))}if(r==="true"){t=abb.fullHeight()}else{t=q}};w();a(window).on("debouncedresize",function(a){setTimeout(function(){B();w()},100)});if(BrowserDetect.browser=="IE"&&n=="horizontal_curtain"){n="slide"}d.find(".mk-animate-element").removeClass("mk-animate-element fade-in scale-up right-to-left left-to-right bottom-to-top top-to-bottom forthy-five-rotate");var x=d.swiper({mode:"horizontal",loop:true,roundLengths:true,calculateHeight:true,grabCursor:true,useCSS3Transforms:true,mousewheelControl:false,pagination:v,paginationClickable:true,freeModeFluid:true,speed:m,autoplay:k,progress:true,autoplayDisableOnInteraction:false,hashNav:p,onSwiperCreated:function(b){var c=d.find(".swiper-slide").eq(0).find(".edge-slide-content .mk-edge-title").text(),e=d.find(".swiper-slide").eq(2).find(".edge-slide-content .mk-edge-title").text();var g=d.find(".swiper-slide").eq(0).css("background-image"),j=d.find(".swiper-slide").eq(2).css("background-image");var k=d.find(".swiper-slide").eq(0).find(".mk-video-section-touch").css("background-image"),m=d.find(".swiper-slide").eq(2).find(".mk-video-section-touch").css("background-image");var n=d.find(".swiper-slide").eq(0).css("background-color"),o=d.find(".swiper-slide").eq(2).css("background-color");if(c.length>1){i.find(".prev-item-caption").show().text(c)}if(typeof g!=="undefined"&&g!="none"){i.find(".edge-nav-bg").show().css({"background-image":g})}else if(typeof k!=="undefined"&&k!="none"){i.find(".edge-nav-bg").show().css({"background-image":k})}else if(n!=="undefined"){i.find(".edge-nav-bg").show().css({"background-color":n})}if(typeof e!=="undefined"){h.find(".next-item-caption").show().text(e)}if(typeof j!=="undefined"&&j!="none"){h.find(".edge-nav-bg").show().css({"background-image":j})}else if(typeof m!=="undefined"&&m!="none"){h.find(".edge-nav-bg").show().css({"background-image":m})}else if(typeof o!=="undefined"){h.find(".edge-nav-bg").show().css({"background-color":o})}if(!a("#mk-header").hasClass("transparent-header-sticky")){if(l=="true"){a("#mk-header.transparent-header").removeClass("light-header-skin dark-header-skin").addClass(d.find(".swiper-slide").eq(1).attr("data-header-skin")+"-header-skin")}}var p=d.find(".swiper-slide").eq(1).attr("data-header-skin");a("#"+d.attr("id")+" .mk-edge-nav a").attr("data-skin",p);a(v).attr("data-skin",p);a("#"+d.attr("id")+" .edge-skip-slider").attr("data-skin",p);a(v).find("span").append('<a href="#"></a>');if(f.hasClass("nav-flip")){var q=a(".slide-next-nr"),r=a(".slide-prev-nr"),s=a(".slides-all"),t=b.slides.length-2,u,w;s.text(t);r.text(t);q.text("2")}},onSlideChangeEnd:function(b){var c=a(x.activeSlide()),e=c.attr("data-header-skin");a("#"+d.attr("id")+" .mk-edge-nav a").attr("data-skin",e);a("#"+d.attr("id")+" .edge-skip-slider").attr("data-skin",e);a(v).attr("data-skin",e);var f=a(x.getSlide(x.activeLoopIndex)).find(".edge-slide-content .mk-edge-title").text(),g=a(x.getSlide(x.activeLoopIndex+2)).find(".edge-slide-content .mk-edge-title").text();var j=a(x.getSlide(x.activeLoopIndex)).css("background-image"),k=a(x.getSlide(x.activeLoopIndex+2)).css("background-image");var m=a(x.getSlide(x.activeLoopIndex)).find(".mk-video-section-touch").css("background-image"),n=a(x.getSlide(x.activeLoopIndex+2)).find(".mk-video-section-touch").css("background-image");var o=a(x.getSlide(x.activeLoopIndex)).css("background-color"),p=a(x.getSlide(x.activeLoopIndex+2)).css("background-color");if(typeof f!=="undefined"){i.find(".prev-item-caption").show().text(f)}if(typeof j!=="undefined"&&j!="none"){i.find(".edge-nav-bg").show().css({"background-image":j})}else if(typeof m!=="undefined"&&m!="none"){i.find(".edge-nav-bg").show().css({"background-image":m})}else if(typeof o!=="undefined"){i.find(".edge-nav-bg").show().css({"background-color":o})}if(typeof g!=="undefined"){h.find(".next-item-caption").show().text(g)}if(typeof k!=="undefined"&&k!="none"){h.find(".edge-nav-bg").show().css({"background-image":k})}else if(typeof n!=="undefined"&&n!="none"){h.find(".edge-nav-bg").show().css({"background-image":n})}else if(typeof p!=="undefined"){h.find(".edge-nav-bg").show().css({"background-color":p})}if(!a("#mk-header").hasClass("transparent-header-sticky")){if(l=="true"){a("#mk-header.transparent-header").removeClass("light-header-skin dark-header-skin").addClass(a(x.getSlide(x.activeLoopIndex+1)).attr("data-header-skin")+"-header-skin")}}var q=a(".slide-next-nr"),r=a(".slide-prev-nr"),s=a(".slides-all"),t=b.slides.length-2,u,w;if(x.activeLoopIndex==0){w=t}else{w=x.activeLoopIndex}if(x.activeLoopIndex==t-1){u=1}else{u=x.activeLoopIndex+2}s.text(t);r.text(w);q.text(u)},onProgressChange:function(a){for(var b=0;b<a.slides.length;b++){var c=a.slides[b];var d=c.progress;if(n=="vertical_slide"){var e,f;e=d*a.width;f=d*t;a.setTransform(c,"translate3d("+e+"px,"+-f+"px,0)")}if(n=="zoom"){var g,h,i,j,k;if(d<=0){j=1-Math.min(Math.abs(d),1);g=1-Math.min(Math.abs(d/12),1);h=1;i=d*a.width}else{j=1-Math.min(Math.abs(d/2),1);g=1+Math.min(Math.abs(d/6),1);i=d*a.width}k=(1-Math.min(Math.abs(d),1))*10;c.style.opacity=j;a.setTransform(c,"translate3d("+i+"px,0,0) scale("+g+")");c.style.zIndex=k}if(n=="zoom_out"){var g,e,f,j,k;e=d*a.width;if(d<=0){j=1;g=1;k=1;f=d*t}else if(d>0){j=(1-Math.min(Math.abs(d),1))/2;g=1-Math.min(Math.abs(d/2),1);k=0;f=0}a.setTransform(c,"translate3d("+e+"px,"+-f+"px,0)  scale("+g+")");c.style.opacity=j;c.style.zIndex=k}if(n=="fade"){var e,j,k;e=d*a.width;j=1-Math.min(Math.abs(d),1);k=(1-Math.min(Math.abs(d),1))*10;a.setTransform(c,"translate3d("+e+"px,0,0)");c.style.opacity=j;c.style.zIndex=k}if(n=="horizontal_curtain"){var e,k,l;e=d*a.width;if(d<=0){k=1;e=0;l="ease"}else if(d>0){k=0;e=d*a.width/2;l="ease"}a.setTransform(c,"translate3d("+e/2+"px,0,0)");c.style.webkitTransitionTimingFunction=l;c.style.zIndex=k}if(n=="perspective_flip"){var e,f,m;e=d*a.width;f=d*t;if(d>=0){m=0}else if(d<0){m=70}a.setTransform(c,"translate3d("+e+"px,"+-f+"px,0) rotateX("+m+"deg)")}}},onTouchStart:function(a){for(var b=0;b<a.slides.length;b++){a.setTransition(a.slides[b],0)}},onSetWrapperTransition:function(a,b){for(var c=0;c<a.slides.length;c++){a.setTransition(a.slides[c],b)}}});i.click(function(a){x.swipePrev();a.preventDefault()});h.click(function(a){x.swipeNext();a.preventDefault()});if(d.parent().hasClass("mk-parallax")&&!is_touch_device()){var y,z,A=d.parent(),C=A.outerHeight(),D=a("#mk-header"),E=0;if(!D.hasClass("transparent-header")){E=D.height()}if(D.hasClass("header-structure-vertical")){E=0}j.add(function(a){y=A.offset().top;z=(a-y+g+E)*.7;d.css({transform:"translateY("+z+"px)"})})}})}function B(){a(".mk-edge-slider").each(function(){var b=a(this),c=b.find(".edge-slider-holder, .swiper-slide"),e=b.attr("data-height"),f=b.attr("data-fullHeight"),g=0,h=0;if(a.exists("#mk-header.sticky-header")&&!a("#mk-header").hasClass("transparent-header")&&!a("#mk-header").hasClass("header-structure-vertical")){var g=parseInt(a("#mk-header.sticky-header").attr("data-sticky-height"))}if(f==="true"){h=abb.fullHeight()}else{h=e}c.css("height",h);b.css("height",h);b.find(".swiper-slide").each(function(){var b=a(this),c=b.find(".edge-slide-content"),e=b.find(".edge-content-holder");if(b.hasClass("left_center")||b.hasClass("center_center")||b.hasClass("right_center")){var f=c.outerHeight()/2,g=h/2;e.css("marginTop",g-f)}if(b.hasClass("left_bottom")||b.hasClass("center_bottom")||b.hasClass("right_bottom")){if(d>960){var i=h-c.outerHeight()-160;e.css("marginTop",i)}else{var f=c.outerHeight()/2,g=h/2;e.css("marginTop",g-f)}}});b.find(".edge-slider-loading").fadeOut()})}function C(){a(".mk-tab-slider").each(function(b,c){var f=a(this),h=f.find(".edge-slider-holder"),i=f.attr("data-pause"),j=f.attr("data-speed"),k=f.attr("data-height"),l=f.attr("data-fullHeight"),m=f.find(".mk-tab-slider-content")[0],n=0,o=0,p=a(m).height(),q=f.attr("data-pagination")=="true"?true:false,r=f.find("i"),s=a(".mk-tab-slider-pagination"),t=s.find(".mk-tab-slider-menu-titles a");if(q===true){var u="#"+f.attr("id")+" .swiper-pagination";a(u).on("click","span",function(b){b.preventDefault();y.swipeTo(a(this).index(),500)})}else{var u=false}f.find(".mk-animate-element").removeClass("mk-animate-element fade-in scale-up right-to-left left-to-right bottom-to-top top-to-bottom forthy-five-rotate");var v=function(){if(a.exists("#mk-header")&&!a("#mk-header").hasClass("header-structure-vertical")){n=parseInt(a("#mk-header").attr("data-sticky-height"))}if(l=="true"){o=e-n-g}else{o=k}};v();var w=true;function x(){if(f.find(".swiper-slide-active").length){p=f.find(".swiper-slide-active").height()}var a=f.find(".mk-tab-slider-content")[0];if(d<960){f.find(".mk-tab-slider-content").css({paddingTop:0,"min-height":0})}if(l=="true"){f.find(".mk-tab-slider-content").css({"min-height":o+"px"})}}var y=f.swiper({mode:"horizontal",loop:true,grabCursor:false,useCSS3Transforms:true,mousewheelControl:false,pagination:u,paginationClickable:true,freeModeFluid:true,calculateHeight:w,speed:j,autoplay:i,simulateTouch:false,autoplayDisableOnInteraction:false,onSwiperCreated:function(b){var c=f.find(".swiper-slide").eq(1).attr("data-skin");a(u).find("span").append('<a href="#"></a>');a(u).attr("data-skin",c);f.find(".edge-slider-loading").fadeOut()},onSlideChangeEnd:function(){var b=a(y.activeSlide()),c=b.attr("data-skin");a(u).attr("data-skin",c)}});x();a(window).on("resize",function(){setTimeout(function(){x();y.reInit()},200)})})}function D(){a(".mk-swiper-slider").each(function(){var b=a(this);if(!(window.matchMedia("(max-width: 650px)").matches&&b.hasClass("mk-portfolio-scroller"))){
if(b.data("state")!="init"){b.data("state","init");var c=b.parent().siblings(".gallery-thumbs-small"),d=b.find(".mk-swiper-next"),e=b.find(".mk-swiper-prev"),f=b.attr("data-direction"),g=b.attr("data-pagination")==="true"?true:false,h=b.attr("data-slideshowSpeed"),i=b.attr("data-animationSpeed"),j=b.attr("data-animation"),k=b.attr("data-freeModeFluid")==="true"?true:false,l=b.attr("data-freeMode")==="true"?true:false,m=b.attr("data-mousewheelControl")==="true"?true:false,n=b.attr("data-loop")==="true"?true:false,o=b.attr("data-autoplayStop")==="false"?false:true,p=b.attr("data-slidesPerView"),q=0;var r=function(){if(b.hasClass("mk-employees")){p=3;if(window.matchMedia("(max-width: 600px)").matches){p=2}}};r();if(g===true){var s="#"+b.attr("id")+" .swiper-pagination"}else{var s=false}if(BrowserDetect.browser=="IE"){j="slide"}var t=a(this).swiper({mode:f,loop:n,freeMode:l,pagination:s,freeModeFluid:k,autoplay:h,speed:i,calculateHeight:true,roundLengths:true,grabCursor:true,progress:true,useCSS3Transforms:true,mousewheelControl:m,mousewheelControlForceToAxis:true,paginationClickable:true,slidesPerView:p,autoplayDisableOnInteraction:o,onSwiperCreated:function(a){z()},onSlideChangeStart:function(){c.find(".active-item").removeClass("active-item");c.find("a").eq(t.activeIndex).addClass("active-item")},onProgressChange:function(a){for(var b=0;b<a.slides.length;b++){var c=a.slides[b];var d=c.progress;if(j=="fade"){var e,f,g;f=1-Math.min(Math.abs(d),1);g=(1-Math.min(Math.abs(d),1))*10;e=d*a.width;a.setTransform(c,"translate3d("+e+"px,0,0)");c.style.opacity=f;c.style.zIndex=g}}},onTouchStart:function(a){for(var b=0;b<a.slides.length;b++){a.setTransition(a.slides[b],0)}},onSetWrapperTransition:function(a,b){for(var c=0;c<a.slides.length;c++){a.setTransition(a.slides[c],b)}}});a(window).on("debouncedresize",function(){r();t.reInit();t.params.slidesPerView=p});e.click(function(a){t.swipePrev();a.preventDefault()});d.click(function(a){t.swipeNext();a.preventDefault()});c.find("a").on("touchstart mousedown",function(b){b.preventDefault();c.find(".active-item").removeClass("active-item");a(this).addClass("active-item");t.swipeTo(a(this).index())});c.find("a").click(function(a){a.preventDefault()})}}else{b.addClass("scroller-disabled")}})}function E(){a(".mk-gallery.thumb-style .gallery-thumbs-small").each(function(){var b=a(this),c=b.children().length,d=c*b.find("a").outerWidth(),e=b.siblings(".gallery-thumb-large").outerWidth();if(d>e){b.find("a").css("width",100/c+"%")}})}function F(){if(is_touch_device()||d<800){return false}a(".mk-page-section.parallax-true").each(function(){var b=a(this),c=b.attr("data-direction"),d=b.attr("data-speedFactor");if(c==="horizontal_mouse"||c==="vertical_mouse"||c==="both_axis_mouse"){var f=b.attr("data-direction")==="vertical_mouse"?true:false,g=b.attr("data-direction")==="horizontal_mouse"?true:false,h=b.attr("data-direction")==="both_axis_mouse"?true:false;if(h===true){g=true;f=true}var i=b;var j=i.find(".parallax-layer");var k=-.004;var l=50;var m=50;i.on("mousemove",function(a){var b=i.offset();var c=g?a.clientX-b.left-i.width()*.5:0;var d=f?a.pageY-b.top-i.height()*.5:0;TweenLite.to(j,3,{scale:1.2});TweenLite.to(j,1,{x:c*l*k,y:d*m*k})});i.on("mouseleave",function(){TweenLite.to(j,60,{x:0,y:0,scale:1})})}else{var b=a(this),n=b.offset(),o=.16;if(n.top>e){o=.2}else{o=-.2}if(c=="vertical")b.parallaxScroll("50%",o,"vertical");if(c=="horizontal")b.parallaxScroll("50%",.3,"horizontal")}})}function G(){a(".mk-parent-element").each(function(){var b=a(this),c=b.outerWidth(),d=b.find(".mk-caption-item").outerHeight(),e=c-120;b.find(".mk-caption-item").css({width:e,"margin-top":-(d/2),"margin-left":-(e/2)})})}function H(){a(".mk-portfolio-item").each(function(){var b=a(this),c=b.outerWidth(),d=b.find(".portfolio-meta").outerHeight(),e=c>300?c-100:c-20;b.find(".portfolio-meta").css({width:e,"margin-top":-(d/2),"margin-left":-(e/2)});var f=a(this).find(".portfolio-entry-logo"),g=f.width(),h=f.height();f.css({"margin-left":-g/2,"margin-top":-h/2})})}function I(){a(".mk-employees.grid-style .mk-employee-item").each(function(){var b=a(this),c=b.outerHeight();b.find(".team-info-wrapper").css({height:c})})}function J(){a(".mk-gallery-item").each(function(){var b=a(this),c=b.outerWidth(),d=b.find(".gallery-meta").outerHeight(),e;if(c<200){e=c}else{e=c-100}})}function K(){a(".masonry-portfolio-item, .grid-portfolio-item, .mk-portfolio-scroller .mk-portfolio-item .item-holder").each(function(){var b=a(this);b.hover(function(){var a=new TimelineLite;a.set(b.find(".border-tb, .border-bt"),{opacity:1}).to(b.find(".border-tb, .border-bt"),1.2,{scaleY:1,ease:Power4.easeInOut});var c=new TimelineLite;c.set(b.find(".border-bl, .border-tr"),{opacity:1}).to(b.find(".border-bl, .border-tr"),1.2,{scaleX:1,ease:Power4.easeInOut})},function(){var a=new TimelineLite;a.to(b.find(".border-tb, .border-bt"),.8,{scaleY:0,ease:Power4.easeInOut}).set(b.find(".border-tb, .border-bt"),{opacity:0});var c=new TimelineLite;c.to(b.find(".border-bl, .border-tr"),.8,{scaleX:0,ease:Power4.easeInOut}).set(b.find(".border-bl, .border-tr"),{opacity:0})})});a(".mk-portfolio-item.parallax-hover .item-holder").each(function(){var b=a(this);var c=b.find(".item-featured-image");var d=-.004;var e=50;var f=50;b.on("mousemove",function(a){var g=b.offset();var h=a.clientX-g.left-b.width()*.5;var i=a.pageY-g.top-b.height()*.5;TweenLite.to(c,1,{scale:1.2});TweenLite.to(c,1,{x:h*e*d,y:i*f*d})});b.on("mouseleave",function(){TweenLite.to(c,.5,{x:0,y:0,scale:1})})})}function L(){if(a.exists(".mk-tabs")){a(".mk-tabs").tabs();a(".mk-tabs").on("click",function(){a(".mk-theme-loop").isotope("reLayout")});a(".mk-tabs.vertical-style").each(function(){var b=a(this),c=b.find(".inner-box"),d=a(this).find(".mk-tabs-tabs").height()+80;c.css("minHeight",d)})}}function M(){if(a.exists(".mk-tabs")){a(".mk-tabs").each(function(){var b=a(this);if(window.matchMedia("(max-width: 767px)").matches&&b.hasClass("mobile-true")){b.tabs("destroy")}else{L()}})}}function N(){if(a.exists(".jp-jplayer")){a(".jp-jplayer.mk-blog-audio").each(function(){var b="#"+a(this).siblings(".jp-audio").attr("id");var c,d,e;c=a(this).attr("data-ogg");d=a(this).attr("data-mp3");a(this).jPlayer({ready:function(){a(this).jPlayer("setMedia",{mp3:d,ogg:c})},play:function(){a(this).jPlayer("pauseOthers")},swfPath:e,supplied:"mp3, ogg",cssSelectorAncestor:b,wmode:"window"})})}}function O(){a(".portfolio-grid.portfolio-ajax-enabled").ajaxPortfolio()}function P(){a(".loop-main-wrapper").each(function(){var b=a(this),c=b.find(".mk-theme-loop"),d="."+c.attr("data-style")+"-"+c.attr("data-uniqid"),e=b.find(".mk-loadmore-button"),f=b.find(".mk-pagination");if(c.hasClass("isotop-enabled")){c.imagesLoaded(function(){c.isotope({itemSelector:d,animationEngine:"best-available",masonry:{columnWidth:1}})})}a(".mk-isotop-filter").on("click","a",function(){var b;b=a(this);TweenLite.to(b.parents(".portfolio-grid").find(".ajax-container"),.5,{height:0,opacity:0});if(b.hasClass(".current")){return false}var d=b.parents(".mk-isotop-filter ul");d.find(".current").removeClass("current");b.addClass("current");var e=a(this).attr("data-filter");c.isotope({filter:""});c.isotope({filter:e});return false});e.hide();if(b.find(".mk-theme-loop").hasClass("scroll-load-style")||b.find(".mk-theme-loop").hasClass("load-button-style")){if(f.length>0){e.css("display","block")}f.hide();e.on("click",function(){if(!a(this).hasClass("pagination-loading")){a(this).addClass("pagination-loading")}});c.infinitescroll({navSelector:f,nextSelector:b.find(".mk-pagination a:first"),itemSelector:d,bufferPx:70,loading:{finishedMsg:"",msg:null,msgText:"",selector:e,speed:300,start:undefined},errorCallback:function(){e.html(mk_no_more_posts).addClass("disable-pagination")}},function(b){var d=a(b);d.imagesLoaded(function(){e.removeClass("pagination-loading");c.isotope("appended",d);c.isotope({filter:""});var b=a(".mk-isotop-filter ul").find(".current").attr("data-filter");c.isotope({filter:b});c.isotope("reLayout");N();z();H();J();D();O();G();ajaxStylesInjector();K()})});if(b.find(".mk-theme-loop").hasClass("load-button-style")){a(window).unbind(".infscr");e.click(function(){c.infinitescroll("retrieve");return false})}}else{e.hide()}})}function Q(){if(a.exists(".mk-blog-container")||a.exists(".mk-portfolio-container")){a(".mk-blog-container>article, .mk-portfolio-container>article").each(function(b){a(this).delay(b*100).animate({opacity:1},100)}).promise().done(function(){setTimeout(function(){a(".mk-theme-loop").isotope("reLayout")},500)})}}function R(){if(a.exists(".mk-event-countdown")){a(".mk-event-countdown").each(function(){var b=a(this),c=b.attr("data-date"),d=b.attr("data-offset");b.downCount({date:c,offset:d})})}}function S(){if(a.exists(".mk-instagram-feeds")){a(".mk-instagram-feeds").each(function(){var b=a(this),c=b.attr("data-size"),d=b.attr("data-sort"),e=b.attr("data-count"),f=parseInt(b.attr("data-userid")),g=b.attr("data-accesstoken"),h=b.attr("data-column"),i=b.attr("id");var j=new Instafeed({get:"user",target:i,resolution:c,sortBy:d,limit:e,userId:f,accessToken:g,template:'<a class="featured-image '+h+'-columns" href="{{link}}"><div class="item-holder"><img src="{{image}}" /><div class="hover-overlay"></div></div></a>'});j.run()})}}function T(){if(a.exists(".mk-accordion")){a(".mk-accordion").each(function(){if(window.matchMedia("(max-width: 767px)").matches&&a(this).hasClass("mobile-true")){}else{var b=a(this),c=b.attr("data-item-index"),d=b.find(".mk-accordion-single"),e=b.find(".mk-accordion-pane").hide();if(c!=-1){d.eq(c).addClass("current-item").find(".mk-accordion-pane").slideDown(300)}b.find(".mk-accordion-tab").click(function(){var b=a(this),c=b.parent();if(!c.hasClass("current-item")){c.siblings().removeClass("current-item").end().addClass("current-item");e.slideUp(300);b.parent().children(".mk-accordion-pane").slideDown(300)}return false})}})}if(a.exists(".mk-toggle-title")){if(window.matchMedia("(max-width: 767px)").matches){a(".mk-toggle-title").next().css("display","block")}else{a(".mk-toggle-title").toggle(function(){a(this).addClass("active-toggle");a(this).siblings(".mk-toggle-pane").slideDown("fast")},function(){a(this).removeClass("active-toggle");a(this).siblings(".mk-toggle-pane").slideUp("fast")})}}}function U(){a(".twitter-share").on("click",function(){var b=a(this).attr("data-url"),c=a(this).attr("data-title");window.open("http://twitter.com/intent/tweet?text="+c+" "+b,"twitterWindow","height=380,width=660,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0");return false});a(".pinterest-share").on("click",function(){var b=a(this).attr("data-url"),c=a(this).attr("data-title"),d=a(this).attr("data-image");window.open("http://pinterest.com/pin/create/button/?url="+b+"&media="+d+"&description="+c,"twitterWindow","height=320,width=660,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0");return false});a(".facebook-share").on("click",function(){var b=a(this).attr("data-url");window.open("https://www.facebook.com/sharer/sharer.php?u="+b,"facebookWindow","height=380,width=660,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0");return false});a(".googleplus-share").on("click",function(){var b=a(this).attr("data-url");window.open("https://plus.google.com/share?url="+b,"googlePlusWindow","height=380,width=660,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0");return false});a(".linkedin-share").on("click",function(){var b=a(this).attr("data-url");var c=a(this).attr("data-title");window.open("http://www.linkedin.com/shareArticle?mini=true&url="+b+"&title="+c,"linkedinWindow","height=520,width=570,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0");return false})}function V(){a("[data-typer-targets]").each(function(){var b=a(this),c=[b.text()],d=b.attr("data-typer-targets").split(","),e=c.concat(d);b.text("");b.typed({strings:e,typeSpeed:30,backDelay:1200,loop:true,loopCount:false})})}function W(){if(a.exists(".mk-process-steps.horizontal")){a(".mk-process-steps.horizontal").each(function(){var b=a(this),c=b.find(".step-items"),d=b.find(".step-panes"),e=b.find(".step-panes-responsive");c.find("li").first().addClass("active-step-item");d.css("height",d.find(".mk-step").first().outerHeight()+30);d.find(".mk-step").first().addClass("active-step");c.find("span").hoverIntent(function(){var b=a(this).attr("data-id"),c=d.find('div[id^="'+b+'"]'),e=c.outerHeight()+30;a(this).parent().siblings("li").removeClass("active-step-item").end().addClass("active-step-item");d.css("height",e);d.find(".mk-step").removeClass("active-step");c.addClass("active-step")})})}}function X(){a(".full-height-true.mk-page-section").each(function(){var b=a(this),c=b.find(".page-section-content").outerHeight();if(a.exists("#mk-header")&&!a("#mk-header").hasClass("header-structure-vertical")&&!a("#mk-header").hasClass("transparent-header")){if(a("#mk-header").hasClass("sticky-trigger-header")){var d=parseInt(a("#mk-header").attr("data-sticky-height"))}else{var d=parseInt(a("#mk-header").attr("data-height"))}}else{var d=0}var f=e-g-d;if(mk_header_structure=="margin"){var f=e-g-d-40}else{var f=e-g-d}if(c>e){b.css("height","auto");b.find(".page-section-content").css({"padding-top":30,"padding-bottom":30})}else{b.css("height",f);var h=b.find(".page-section-content").outerHeight()/2,i=f/2;b.find(".page-section-content").css("marginTop",i-h)}b.find(".mk-page-section-loader").fadeOut()})}function Y(){if(!is_touch_device()||BrowserDetect.browser=="IE"){if(a.exists(".mk-page-section.intro-true")){var b=BrowserDetect.browser=="IE"?50:0;a(".mk-page-section.intro-true").each(function(){var b=a(this),c=b.nextAll("div"),d=abb.fullHeight(),e=b.attr("data-intro-effect"),f=a("#mk-header"),g=0;if(f.length&&!a("#mk-header").hasClass("header-structure-vertical")){g+=parseInt(f.attr("data-sticky-height"))+50}var h={fade:new TimelineLite({paused:true}).set(c,{opacity:0,y:d*.3}).set(c.first(),{paddingTop:g}).to(b,1,{opacity:0,ease:Power2.easeInOut}).set(b,{display:"none"}).to(c,1,{opacity:1,y:0,ease:Power2.easeInOut},"-=.7"),zoom_out:new TimelineLite({paused:true}).set(c,{opacity:0,y:d*.3}).set(c.first(),{paddingTop:g}).to(b,1.5,{opacity:.8,scale:.8,y:-d-100,ease:Strong.easeInOut}).set(b,{display:"none"}).to(c,1.5,{opacity:1,y:0,ease:Strong.easeInOut},"-=1.3"),shuffle:new TimelineLite({paused:true}).to(b,1.5,{y:-d/2,ease:Strong.easeInOut}).to(b.nextAll("div").first(),1.5,{paddingTop:d/2+50,ease:Strong.easeInOut},"-=1.3")};b.sectiontrans({effect:e});a("body").on("page_intro",function(){h[e].play()});a("body").on("page_outro",function(){h[e].reverse()})})}}else{a(".mk-page-section.intro-true").each(function(){a(this).attr("data-intro-effect","")})}}function Z(){a(".section-expandable-true").each(function(){var b=a(this).find(".mk-padding-wrapper").hide();a(this).on("click",function(){var c=a(this);if(!c.hasClass("active-toggle")){c.addClass("active-toggle");b.slideDown(500)}setTimeout(function(){z()},1e3)})});a(".section-expandable-true").on("click",function(a){if(a.stopPropagation){a.stopPropagation()}else if(window.event){window.event.cancelBubble=true}});a("body").on("click",function(){a(".section-expandable-true").removeClass("active-toggle");a(".section-expandable-true .mk-padding-wrapper").slideUp(400)})}function $(){a(".mk-flickr-feeds").each(function(){var b=a(this),c=b.attr("data-key"),d=b.attr("data-userid"),e=b.attr("data-count");jQuery.getJSON("https://api.flickr.com/services/rest/?format=json&method="+"flickr.photos.search&api_key="+c+"&user_id="+d+"&&per_page="+e+"&jsoncallback=?",function(a){jQuery.each(a.photos.photo,function(a,c){var d="http://farm"+c.farm+".static.flickr.com/"+c.server+"/"+c.id+"_"+c.secret;var f=d+"_q.jpg";var g=d+".jpg";var h="<a ";var i='title="'+c.title+'" rel="flickr-feeds" class="mk-lightbox featured-image" href="'+g+'"><img src="'+f+'" alt="'+c.title+'"/><div class="hover-overlay"></div></a>;';var j=a<e?h+i:h+i;jQuery(j).appendTo(b)})})})}$();function _(){a(".mk-flexslider.mk-script-call").each(function(){if(a(this).parents(".mk-tabs").length||a(this).parents(".mk-accordion").length){a(this).removeData("flexslider")}var b=a(this),c=b.attr("data-selector"),d=b.attr("data-animation"),e=b.attr("data-easing"),f=b.attr("data-direction"),g=b.attr("data-smoothHeight")=="true"?true:false,h=b.attr("data-slideshowSpeed"),i=b.attr("data-animationSpeed"),j=b.attr("data-controlNav")=="true"?true:false,k=b.attr("data-directionNav")=="true"?true:false,l=b.attr("data-pauseOnHover")=="true"?true:false,m=b.attr("data-isCarousel")=="true"?true:false;if(c!=undefined){var n=c}else{var n=".mk-flex-slides > li"}if(m==true){var o=parseInt(b.attr("data-itemWidth")),p=parseInt(b.attr("data-itemMargin")),q=parseInt(b.attr("data-minItems")),r=parseInt(b.attr("data-maxItems")),s=parseInt(b.attr("data-move"))}else{var o=p=q=r=s=0}b.flexslider({selector:n,animation:d,easing:e,direction:f,smoothHeight:g,slideshow:true,slideshowSpeed:h,animationSpeed:i,controlNav:j,directionNav:k,pauseOnHover:l,prevText:"",nextText:"",itemWidth:o,itemMargin:p,minItems:q,maxItems:r,move:s})})}function aa(){a(".mk-mobile-image").fadeIn();a(".mk-tablet-image").fadeIn()}function ba(){a(".mk-edge-one-pager").each(function(){var b=a(this),c=[],d=b.attr("data-navigation")=="true"?true:false;b.find(".section").each(function(){c.push(a(this).attr("data-title"))});var e=0;if(a.exists("#mk-header.sticky-header")&&!a("#mk-header").hasClass("transparent-header")){var e=parseInt(a("#mk-header.sticky-header").attr("data-sticky-height"))}var f=a(window).height()-e-g;var h=true;b.find(".section").each(function(){var b=a(this),c=b.find(".edge-slide-content"),d=b.height(),e=c.innerHeight();if(e+30>f){h=false}});if(!h){b.find(".section").each(function(){var b=a(this);b.addClass("active").css({"padding-bottom":"50px"})})}if(h){b.fullpage({verticalCentered:false,resize:true,slidesColor:["#ccc","#fff"],anchors:c,scrollingSpeed:600,easing:"easeInQuart",menu:false,navigation:d,navigationPosition:"right",navigationTooltips:false,slidesNavigation:true,slidesNavPosition:"bottom",loopBottom:false,loopTop:false,loopHorizontal:true,autoScrolling:true,scrollOverflow:true,css3:true,paddingTop:0,paddingBottom:0,normalScrollElements:"",normalScrollElementTouchThreshold:5,keyboardScrolling:true,touchSensitivity:15,continuousVertical:false,animateAnchor:true,onLeave:function(c,d,e){if(!a("#mk-header").hasClass("transparent-header-sticky")){a("#mk-header.transparent-header").removeClass("light-header-skin dark-header-skin").addClass(b.find(".one-pager-slide").eq(d-1).attr("data-header-skin")+"-header-skin");a("#fullPage-nav").removeClass("light-skin dark-skin").addClass(b.find(".one-pager-slide").eq(d-1).attr("data-header-skin")+"-skin")}},afterLoad:function(a,b){},afterRender:function(){if(!a("#mk-header").hasClass("transparent-header-sticky")){var c=b.find(".one-pager-slide"),d=c.index(".active"),e=b.attr("data-pagination");setTimeout(function(){a("#mk-header.transparent-header").removeClass("light-header-skin dark-header-skin").addClass(b.find(".one-pager-slide").eq(0).attr("data-header-skin")+"-header-skin");a("#fullPage-nav").removeClass("light-skin dark-skin").addClass(" pagination-"+e).attr("data-skin",c.eq(d).attr("data-header-skin"))},300)}},afterResize:function(){},afterSlideLoad:function(a,b,c,d){},onSlideLeave:function(a,b,c,d){}})}})}function ca(){a(".mk-edge-one-pager").each(function(){var b=a(this),c=0;if(a.exists("#mk-header.sticky-header")&&!a("#mk-header").hasClass("transparent-header")){var c=parseInt(a("#mk-header.sticky-header").attr("data-sticky-height"))}var d=a(window).height()-c-g;b.find(".one-pager-slide").each(function(){var b=a(this),c=b.find(".edge-slide-content");if(b.hasClass("left_center")||b.hasClass("center_center")||b.hasClass("right_center")){var e=c.outerHeight()/2,f=d/2,g=f-e,g=g<50?50:g;c.css("marginTop",g)}if(b.hasClass("left_bottom")||b.hasClass("center_bottom")||b.hasClass("right_bottom")){var g=d-c.outerHeight()-90,g=g<50?50:g;c.css("marginTop",g)}})})}var da=function(b){var c=0,d=0,e=new Array,f,g=0;a(b).each(function(){f=a(this);a(f).height("auto");g=f.position().top;if(d!=g){for(var b=0;b<e.length;b++){e[b].height(c)}e.length=0;d=g;c=f.height();e.push(f)}else{e.push(f);c=c<f.height()?f.height():c}for(b=0;b<e.length;b++){e[b].height(c)}})};function ea(){function b(){da(".vc_row .animated-column-title");da(".vc_row .animated-column-desc");a(".mk-animated-columns").each(function(){var b=a(this);if(b.hasClass("full-style")){b.find(".animated-column-item").each(function(){var b=a(this),c=b.find(".animated-column-icon").innerHeight()+b.find(".animated-column-title").innerHeight()+b.find(".animated-column-desc").innerHeight()+b.find(".animated-column-btn").innerHeight();b.height(c*1.5+50);var d=b.outerHeight(true),e=b.find(".animated-column-icon").height();b.find(".animated-column-holder").css({paddingTop:d/2-e});b.animate({opacity:1},300)})}else{b.find(".animated-column-item").each(function(){var b=a(this),c=b.outerHeight(true)/2,d=b.find(".animated-column-icon").outerHeight(true)/2,e=b.find(".animated-column-simple-title").outerHeight(true)/2;b.find(".animated-column-holder").css({paddingTop:c-d});b.find(".animated-column-title").css({paddingTop:c-e});b.animate({opacity:1},300)})}})}b();a(window).on("resize",function(){b()});a(".mk-animated-columns.full-style .animated-column-item").hover(function(){TweenLite.to(a(this).find(".animated-column-holder"),.5,{top:"-15%",ease:Back.easeOut});TweenLite.to(a(this).find(".animated-column-desc"),.5,{top:"-50%",ease:Expo.easeOut},.4);TweenLite.to(a(this).find(".animated-column-btn"),.3,{top:"-50%",ease:Expo.easeOut},.6)},function(){TweenLite.to(a(this).find(".animated-column-holder"),.5,{top:"0%",ease:Back.easeOut,easeParams:[3]});TweenLite.to(a(this).find(".animated-column-desc"),.5,{top:"100%",ease:Back.easeOut},.4);TweenLite.to(a(this).find(".animated-column-btn"),.5,{top:"100%",ease:Back.easeOut},.2)});a(".mk-animated-columns.simple-style .animated-column-item, .mk-animated-columns.simple_text-style .animated-column-item").hover(function(){var b=a(this).height();TweenLite.to(a(this).find(".animated-column-holder"),.7,{y:b,ease:Expo.easeOut});TweenLite.to(a(this).find(".animated-column-title"),.7,{y:b,ease:Back.easeOut},.2)},function(){TweenLite.to(a(this).find(".animated-column-holder"),.7,{y:0,ease:Expo.easeOut});TweenLite.to(a(this).find(".animated-column-title"),.7,{y:0,ease:Back.easeOut},.2)})}a(document).ready(function(){if(!a.exists(".mk-edge-one-pager")&&typeof webkit_smoothscroll=="function"){webkit_smoothscroll()}b();S();t();q();r();N();f();U();y();R();O();V();_();ba();ca();g();ma();fa();a(window).load(function(){h();ea();aa();z();H();J();p();Z();T();I();W();E();A();B();C();D();la();G();P();Q();n();Y();v();L();w();K();l();m();i();M();da();$();j();s();u();x();ca();na();X();F()});a(window).on("debouncedresize",function(){h();H();X();t();I();p();F();Y();v();w();G();ca();l();m();r();q();M();ma();na()});a(".mk-go-top, .mk-back-top-link").on("click",function(b){b.preventDefault();a("html, body").animate({scrollTop:0},800)});function b(){var b=a(".mk-go-top");var d=a(".quick-button-container");var e=function(){if(c>700){b.removeClass("off").addClass("on");d.removeClass("go-right").addClass("go-left")}else{b.removeClass("on").addClass("off");d.removeClass("go-left").addClass("go-right")}};k.add(e)}function d(){a("body").on("click",".mk-love-this",function(){var b=a(this),c=b.attr("id");if(b.hasClass("item-loved")){return false}if(b.hasClass("item-inactive")){return false}var d={action:"mk_love_post",post_id:c};a.post(ajaxurl,d,function(a){b.find("span").html(a);b.addClass("item-loved")});b.addClass("item-inactive");return false})}d();function e(){var a=false;(function(b){if(/(android|ipad|playbook|silk|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4)))a=true})(navigator.userAgent||navigator.vendor||window.opera);return a}function f(){var b=e()?"touchstart":"click";a(".mk-margin-header-burger").on(b,function(){var b=a(this),c=a("#mk-main-navigation");if(!b.hasClass("active-burger")){b.addClass("active-burger");c.addClass("show-menu")}else{b.removeClass("active-burger");c.removeClass("show-menu")}})}function g(){a(".widget_product_categories ul > .cat-item").each(function(){var b=a(this),c=b.find("ul");if(b.hasClass("cat-parent")){b.hoverIntent({over:function(){c.slideDown(500)},out:function(){c.slideUp(500)},timeout:1e3})}})}function i(){a(".fancy_link-button").each(function(){var b=a(this),c=b.find(".line");b.hoverIntent({over:function(){c.css({width:"100%",right:"auto",left:"0"})},out:function(){c.css({width:"0",right:"0",left:"auto"})},timeout:100})})}function j(){a(".theatre-slider-container.autoplay-true").each(function(){var b=a(this),c=b.data("source"),d;if(c=="self_hosted"){d=b.find("video")[0]}if(c=="youtube"){var e=b.find("iframe")[0];d=new YT.Player(e)}if(c=="vimeo"){var f=b.find("iframe")[0];d=$f(f)}b.on("inview",function(a,b){if(b==true){if(c=="self_hosted"){d.play()}if(c=="youtube"){d.playVideo()}if(c=="vimeo"){d.api("play")}}else{if(c=="self_hosted"){d.pause()}if(c=="youtube"){d.pauseVideo()}if(c=="vimeo"){d.api("pause")}}})})}function l(){var b=a(".laptop-theatre-slider");var c=a(".computer-theatre-slider");if(a.exists(".laptop-theatre-slider")){b.each(function(){var b=a(this),c=a(window),d=c.outerWidth(),e=c.outerHeight(),f=b.outerWidth(),g=b.outerHeight(),h=32,i=110,j=47,k=110;var l=b.find(".player-container");if(d>f){l.css({"padding-left":f*k/920,"padding-right":f*i/920,"padding-top":g*h/536,"padding-bottom":g*j/536})}})}if(a.exists(".computer-theatre-slider")){c.each(function(){var b=a(this),c=a(window),d=c.outerWidth(),e=c.outerHeight(),f=b.outerWidth(),g=b.outerHeight(),h=37,i=35,j=190,k=38;var l=b.find(".player-container");if(d>f){l.css({"padding-left":f*k/920,"padding-right":f*i/920,"padding-top":g*h/705,"padding-bottom":g*j/705})}})}}function m(){var b=a(".mk-mobile-slideshow.portrait-style");var c=a(".mk-mobile-slideshow.landscape-style");var d=a(".mk-tablet-slideshow");if(a.exists(".mk-mobile-slideshow.portrait-style")){b.each(function(){var b=a(this),c=a(window),d=c.outerWidth(),e=c.outerHeight(),f=b.outerWidth(),g=b.outerHeight(),h=106,i=25,j=100,k=30;var l=b.find(".slideshow-container");l.css({"padding-left":f*k/357,"padding-right":f*i/357,"padding-top":g*h/741,"padding-bottom":g*j/735})})}if(a.exists(".mk-mobile-slideshow.landscape-style")){c.each(function(){var b=a(this),c=a(window),d=c.outerWidth(),e=c.outerHeight(),f=b.outerWidth(),g=b.outerHeight(),h=40,i=125,j=40,k=135;var l=b.find(".slideshow-container");l.css({"padding-left":f*k/902,"padding-right":f*i/902,"padding-top":g*h/436,"padding-bottom":g*j/436})})}if(a.exists(".mk-tablet-slideshow")){d.each(function(){var b=a(this),c=a(window),d=c.outerWidth(),e=c.outerHeight(),f=b.outerWidth(),g=b.outerHeight(),h=78,i=36,j=83,k=30;var l=b.find(".slideshow-container");l.css({"padding-left":f*k/501,"padding-right":f*i/501,"padding-top":g*h/739,"padding-bottom":g*j/739})})}}function s(){a(".mk-image-box.autoplay-true").each(function(){var b=a(this),c=b.data("source"),d;if(c=="self_hosted"){d=b.find("video")[0]}if(c=="youtube"){var e=b.find("iframe")[0];d=new YT.Player(e)}if(c=="vimeo"){var f=b.find("iframe")[0];d=$f(f)}b.on("inview",function(a,b){if(b==true){if(c=="self_hosted"){d.play()}if(c=="youtube"){d.playVideo();d.mute()}if(c=="vimeo"){d.api("play");d.api("setVolume",0)}}else{if(c=="self_hosted"){d.pause()}if(c=="youtube"){d.pauseVideo()}if(c=="vimeo"){d.api("pause")}}})})}function u(){if(a.exists(".products")&&!a(".products").hasClass("related")){a(".products.isotope-enabled").each(function(){if(!a(this).parents(".mk-woocommerce-carousel").length){var b=a(this),c=".products .product";b.isotope({itemSelector:c,masonry:{columnWidth:1}})}})}}function x(){if(a.exists(".mk-product-categories")){a(".mk-product-categories-list").each(function(){var b=a(this),c=".mk-product-categories-list .product-item";b.isotope({itemSelector:c,masonry:{columnWidth:1}})})}}function $(){if(a.exists(".vertical-header")){a(".mk-vertical-menu .menu-item").hoverIntent({over:function(){if(a(this).is(".menu-item-has-children")){a(this).find("> .sub-menu").slideToggle()}},out:function(){if(a(this).is(".menu-item-has-children")){a(this).find("> .sub-menu").slideToggle()}},timeout:300})}}function da(){a(".mk-header-wpml-ls").hoverIntent({over:function(){a(".language-selector-box").fadeIn(200)},out:function(){a(".language-selector-box").fadeOut(200)},timeout:500})}function fa(){a("header").on("mouseenter",".mk-shopping-cart",function(){a(".mk-shopping-box").fadeIn(200).css({"z-index":100})});a("header").on("mouseleave",".mk-shopping-cart",function(){a(".mk-shopping-box").delay(500).fadeOut(200)})}function ga(){var b=a("body");b.on("click",".add_to_cart_button",function(){var b=a(this).parents(".product:eq(0)").addClass("adding-to-cart").removeClass("added-to-cart")});b.bind("added_to_cart",function(){a(".adding-to-cart").removeClass("adding-to-cart").addClass("added-to-cart");fa()})}ga();function ha(){if(a.exists(".search-ajax-input")){a(".search-ajax-input").autocomplete({delay:50,minLength:2,messages:{noResults:"",results:function(){}},appendTo:a(".header-searchform-input"),source:function(b,c){a.getJSON(ajaxurl+"?callback=?&action=mk_ajax_search",b,c)},select:function(a,b){window.location.href=b.item.link}}).data("ui-autocomplete")._renderItem=function(b,c){return a("<li>").append("<a>"+c.image+"<span class='search-title'>"+c.label+"</span><span class='search-date'>"+c.date+"</span></a>").appendTo(b)}}}ha();function ia(){if(a.tools.validator!=undefined){a.tools.validator.addEffect("contact_form",function(b){a.each(b,function(a,b){var c=b.input;c.addClass("mk-invalid")})},function(a){a.removeClass("mk-invalid")});a(".captcha-change-image").on("click",function(a){a.preventDefault();b()});a(".captcha-form").each(function(){a(this).on("focus",function(){a(this).attr("placeholder",mk_captcha_placeholder).removeClass("contact-captcha-invalid contact-captcha-valid")})});var b=function(){a(".captcha-image").attr("src",mk_theme_dir+"/captcha/captcha.php?"+Math.random());

};var c;var d=function(d,e){a.get(mk_theme_dir+"/captcha/captcha-check.php",{captcha:e}).done(function(a){if(a!="ok"){b();d.find(".captcha-form").val("").addClass("contact-captcha-invalid").attr("placeholder",mk_captcha_invalid_txt)}else{c();b();d.find(".captcha-form").val("").addClass("contact-captcha-valid").attr("placeholder",mk_captcha_correct_txt)}})};a(".mk-contact-form").validator({effect:"contact_form"}).submit(function(b){var e=a(this);if(!b.isDefaultPrevented()){var f={action:"mk_contact_form",to:e.find('input[name="contact_to"]').val().replace("*","@"),name:e.find('input[name="contact_name"]').val(),phone:e.find('input[name="contact_phone"]').val(),email:e.find('input[name="contact_email"]').val(),content:e.find('textarea[name="contact_content"]').val()};c=function(){o.loader(e);a.post(ajaxurl,f,function(a){e.find(".mk-contact-loading").fadeOut("slow");e.find("input").val("");e.find("textarea").val("");o.success(e)})};var g=e.find('input[name="captcha"]').val();if(e.find(".captcha-form").length){d(e,g)}else{c()}b.preventDefault()}})}}ia();a(this).find(".mk-form-row input, .comment-form-row input, .mk-login-form input").each(function(){a(this).focusin(function(){a(this).siblings("i").addClass("input-focused")});a(this).focusout(function(){a(this).siblings("i").removeClass("input-focused")})});function ja(){a("form.mk-login-form").each(function(){var b=a(this);b.on("submit",function(c){a("p.mk-login-status",b).show().text(ajax_login_object.loadingmessage);a.ajax({type:"POST",dataType:"json",url:ajax_login_object.ajaxurl,data:{action:"ajaxlogin",username:a("#username",b).val(),password:a("#password",b).val(),security:a("#security",b).val()},success:function(c){a("p.mk-login-status",b).text(c.message);if(c.loggedin===true){document.location.href=ajax_login_object.redirecturl}}});c.preventDefault()})})}ja();var ka=e()?"touchstart":"click";jQuery(".mk-quick-contact-link").on(ka,function(){var a=jQuery(this),b=jQuery(".mk-quick-contact-overlay"),c=b.find(".mk-quick-contact-inset");b.addClass("mk-quick-contact-visible");return false});jQuery(".mk-quick-contact-overlay").on(ka,function(){a(this).removeClass("mk-quick-contact-visible")});a(".box-close-btn").on(ka,function(){a(this).parent().fadeOut(300);return false});function la(){var b=ken.modules.header.calcHeight();a(".mk-smooth, .blog-comments").on("click",function(c){TweenLite.to(window,1.2,{scrollTo:{y:a(a(this).attr("href")).offset().top-(b+2)},ease:Expo.easeInOut});c.preventDefault()})}function ma(){a(".mk-toolbar-responsive-icon").on("click",function(b){var c=a(this),d=c.parents(".mk-responsive-header-toolbar").prev(".mk-header-toolbar");if(!c.hasClass("active-header-toolbar")){c.addClass("active-header-toolbar");d.slideToggle()}else{c.removeClass("active-header-toolbar");d.slideToggle()}b.preventDefault()})}function na(){var b,d=a(".main-navigation-ul, .mk-responsive-nav"),e=d.find(".menu-item a"),f=ken.modules.header.calcHeight(),g;e.each(function(){var b=a(this).attr("href");if(typeof b!=="undefined"&&b!==false){g=b.split("#")[0];if(typeof b.split("#")[1]!=="undefined"&&b.split("#")[1].length){a(this).addClass("one-page-nav-item")}}else{g=""}if(g===window.location.href.split("#")[0]&&typeof a(this).attr("href").split("#")[1]!=="undefined"&&g!==""){a(this).attr("href","#"+a(this).attr("href").split("#")[1]);a(this).parent().removeClass("current-menu-item")}});var h=a(".one-page-nav-item");var i=h.map(function(){var b=a(this).attr("href");if(/^#\w/.test(b)&&a(b).length){return a(b)}});d.on("click",".one-page-nav-item",function(b){var c=a(this).attr("href");if(typeof a(c).offset()!=="undefined"){var d=a(c).offset().top}else{var d=0}if(a(window).width()<mk_nav_res_width){f=0}var e=c==="#"?0:d-(f+2);if(a.exists(".responsive-nav-link.active-burger")){a(".responsive-nav-link.active-burger").trigger("click")}console.log(e);a("html, body").stop().animate({scrollTop:e},{duration:1200,easing:"easeInOutExpo"});b.preventDefault()});var j;var k=function(){if(!i.length){return false}j=c+(f+10);var d=i.map(function(){if(a(this).offset().top<j){return this}});d=d[d.length-1];var e=d&&d.length?d[0].id:"";if(b!==e){b=e;console.log(j);h.parent().removeClass("current-menu-item");if(e.length){h.filter("[href=#"+e+"]").parent().addClass("current-menu-item")}}};a(window).scroll(k)}});function fa(){var b="ajaxPortfolio",c={propertyName:"value"};function d(b,d){this.element=a(b);this.settings=a.extend({},c,d);this.init()}d.prototype={init:function(){var b=this;this.grid=this.element.find(".mk-portfolio-container"),this.items=this.grid.children();if(this.items.length<1){return false}this.ajaxDiv=this.element.find("div.ajax-container"),this.filter=this.element.find("#mk-filter-portfolio"),this.loader=this.element.find(".portfolio-loader"),this.triggers=this.items.find(".project-load"),this.closeBtn=this.ajaxDiv.find(".close-ajax"),this.nextBtn=this.ajaxDiv.find(".next-ajax"),this.prevBtn=this.ajaxDiv.find(".prev-ajax"),this.api={},this.id=null,this.win=a(window),this.current=0,this.breakpointT=989,this.breakpointP=767,this.columns=this.grid.data("columns"),this.real_col=this.columns;this.loader.fadeIn();if(this.items.length===1){this.nextBtn.remove();this.prevBtn.remove()}this.grid.waitForImages(function(){b.loader.fadeOut();b.bind_handler()})},bind_handler:function(){var b=this;b.filter.find("a").click(function(){b.triggers.removeClass("active");b.grid.removeClass("grid-open");b.close_project();b.filter.find("a").removeClass("active_sort");a(this).addClass("active_sort");var c=a(this).attr("data-filter");b.grid.isotope({filter:c});return false});b.triggers.on("click",function(){var c=a(this),d=c.parents(".portfolio-ajax-item");b.current=d.index();if(c.hasClass("active")){return false}b.close_project();b.triggers.removeClass("active");c.addClass("active");b.grid.addClass("grid-open");b.loader.fadeIn();b.id=c.data("post-id");b.load_project();return false});b.nextBtn.on("click",function(){if(b.current===b.triggers.length-1){b.triggers.eq(0).trigger("click");return false}else{b.triggers.eq(b.current+1).trigger("click");return false}});b.prevBtn.on("click",function(){if(b.current===0){b.triggers.eq(b.triggers.length-1).trigger("click");return false}else{b.triggers.eq(b.current-1).trigger("click");return false}});b.closeBtn.on("click",function(){b.close_project();b.triggers.removeClass("active");b.grid.removeClass("grid-open");return false})},close_project:function(){var a=this,b=a.ajaxDiv.find(".ajax_project"),c=b.actual("outerHeight");if(a.ajaxDiv.height()>0){a.ajaxDiv.css("height",c+"px").transition({height:0,opacity:0},600)}else{a.ajaxDiv.transition({height:0,opacity:0},600)}},load_project:function(){var b=this;a.post(ajaxurl,{action:"mk_ajax_portfolio",id:b.id},function(a){b.ajaxDiv.find(".ajax_project").remove();b.ajaxDiv.find(".portfolio-ajax-holder").append(a);b.project_factory();z();L();D();H();J();T();U();ajaxStylesInjector()})},project_factory:function(){var b=this,c=this.ajaxDiv.find(".ajax_project");c.waitForImages(function(){a("html:not(:animated),body:not(:animated)").animate({scrollTop:b.ajaxDiv.offset().top-160},700);b.loader.fadeOut(function(){var a=c.actual("outerHeight");b.ajaxDiv.transition({opacity:1,height:a},400,function(){b.ajaxDiv.css({height:"auto"})})})})}};a.fn[b]=function(c){return this.each(function(){a.data(this,"plugin_"+b,new d(this,c))})}}fa()})(jQuery);(function(a,b,c,d){var e=c("html"),f=c(a),g=c(b),h=c.fancybox=function(){h.open.apply(this,arguments)},i=navigator.userAgent.match(/msie/i),j=null,k=b.createTouch!==d,l=function(a){return a&&a.hasOwnProperty&&a instanceof c},m=function(a){return a&&"string"===c.type(a)},n=function(a){return m(a)&&0<a.indexOf("%")},o=function(a,b){var c=parseInt(a,10)||0;b&&n(a)&&(c*=h.getViewport()[b]/100);return Math.ceil(c)},p=function(a,b){return o(a,b)+"px"};c.extend(h,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!k,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(i?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:c.noop,beforeLoad:c.noop,afterLoad:c.noop,beforeShow:c.noop,afterShow:c.noop,beforeChange:c.noop,beforeClose:c.noop,afterClose:c.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(a,b){if(a&&(c.isPlainObject(b)||(b={}),!1!==h.close(!0)))return c.isArray(a)||(a=l(a)?c(a).get():[a]),c.each(a,function(e,f){var g={},i,j,k,n,o;"object"===c.type(f)&&(f.nodeType&&(f=c(f)),l(f)?(g={href:f.data("fancybox-href")||f.attr("href"),title:c("<div/>").text(f.data("fancybox-title")||f.attr("title")).html(),isDom:!0,element:f},c.metadata&&c.extend(!0,g,f.metadata())):g=f);i=b.href||g.href||(m(f)?f:null);j=b.title!==d?b.title:g.title||"";n=(k=b.content||g.content)?"html":b.type||g.type;!n&&g.isDom&&(n=f.data("fancybox-type"),n||(n=(n=f.prop("class").match(/fancybox\.(\w+)/))?n[1]:null));m(i)&&(n||(h.isImage(i)?n="image":h.isSWF(i)?n="swf":"#"===i.charAt(0)?n="inline":m(f)&&(n="html",k=f)),"ajax"===n&&(o=i.split(/\s+/,2),i=o.shift(),o=o.shift()));k||("inline"===n?i?k=c(m(i)?i.replace(/.*(?=#[^\s]+$)/,""):i):g.isDom&&(k=f):"html"===n?k=i:n||i||!g.isDom||(n="inline",k=f));c.extend(g,{href:i,type:n,content:k,title:j,selector:o});a[e]=g}),h.opts=c.extend(!0,{},h.defaults,b),b.keys!==d&&(h.opts.keys=b.keys?c.extend({},h.defaults.keys,b.keys):!1),h.group=a,h._start(h.opts.index)},cancel:function(){var a=h.coming;a&&!1===h.trigger("onCancel")||(h.hideLoading(),a&&(h.ajaxLoad&&h.ajaxLoad.abort(),h.ajaxLoad=null,h.imgPreload&&(h.imgPreload.onload=h.imgPreload.onerror=null),a.wrap&&a.wrap.stop(!0,!0).trigger("onReset").remove(),h.coming=null,h.current||h._afterZoomOut(a)))},close:function(a){h.cancel();!1!==h.trigger("beforeClose")&&(h.unbindEvents(),h.isActive&&(h.isOpen&&!0!==a?(h.isOpen=h.isOpened=!1,h.isClosing=!0,c(".fancybox-item, .fancybox-nav").remove(),h.wrap.stop(!0,!0).removeClass("fancybox-opened"),h.transitions[h.current.closeMethod]()):(c(".fancybox-wrap").stop(!0).trigger("onReset").remove(),h._afterZoomOut())))},play:function(a){var b=function(){clearTimeout(h.player.timer)},c=function(){b();h.current&&h.player.isActive&&(h.player.timer=setTimeout(h.next,h.current.playSpeed))},d=function(){b();g.unbind(".player");h.player.isActive=!1;h.trigger("onPlayEnd")};!0===a||!h.player.isActive&&!1!==a?h.current&&(h.current.loop||h.current.index<h.group.length-1)&&(h.player.isActive=!0,g.bind({"onCancel.player beforeClose.player":d,"onUpdate.player":c,"beforeLoad.player":b}),c(),h.trigger("onPlayStart")):d()},next:function(a){var b=h.current;b&&(m(a)||(a=b.direction.next),h.jumpto(b.index+1,a,"next"))},prev:function(a){var b=h.current;b&&(m(a)||(a=b.direction.prev),h.jumpto(b.index-1,a,"prev"))},jumpto:function(a,b,c){var e=h.current;e&&(a=o(a),h.direction=b||e.direction[a>=e.index?"next":"prev"],h.router=c||"jumpto",e.loop&&(0>a&&(a=e.group.length+a%e.group.length),a%=e.group.length),e.group[a]!==d&&(h.cancel(),h._start(a)))},reposition:function(a,b){var d=h.current,e=d?d.wrap:null,f;e&&(f=h._getPosition(b),a&&"scroll"===a.type?(delete f.position,e.stop(!0,!0).animate(f,200)):(e.css(f),d.pos=c.extend({},d.dim,f)))},update:function(a){var b=a&&a.originalEvent&&a.originalEvent.type,c=!b||"orientationchange"===b;c&&(clearTimeout(j),j=null);h.isOpen&&!j&&(j=setTimeout(function(){var d=h.current;d&&!h.isClosing&&(h.wrap.removeClass("fancybox-tmp"),(c||"load"===b||"resize"===b&&d.autoResize)&&h._setDimension(),"scroll"===b&&d.canShrink||h.reposition(a),h.trigger("onUpdate"),j=null)},c&&!k?0:300))},toggle:function(a){h.isOpen&&(h.current.fitToView="boolean"===c.type(a)?a:!h.current.fitToView,k&&(h.wrap.removeAttr("style").addClass("fancybox-tmp"),h.trigger("onUpdate")),h.update())},hideLoading:function(){g.unbind(".loading");c("#fancybox-loading").remove()},showLoading:function(){var a,b;h.hideLoading();a=c('<div id="fancybox-loading"><div></div></div>').click(h.cancel).appendTo("body");g.bind("keydown.loading",function(a){27===(a.which||a.keyCode)&&(a.preventDefault(),h.cancel())});h.defaults.fixed||(b=h.getViewport(),a.css({position:"absolute",top:.5*b.h+b.y,left:.5*b.w+b.x}));h.trigger("onLoading")},getViewport:function(){var b=h.current&&h.current.locked||!1,c={x:f.scrollLeft(),y:f.scrollTop()};b&&b.length?(c.w=b[0].clientWidth,c.h=b[0].clientHeight):(c.w=k&&a.innerWidth?a.innerWidth:f.width(),c.h=k&&a.innerHeight?a.innerHeight:f.height());return c},unbindEvents:function(){h.wrap&&l(h.wrap)&&h.wrap.unbind(".fb");g.unbind(".fb");f.unbind(".fb")},bindEvents:function(){var a=h.current,b;a&&(f.bind("orientationchange.fb"+(k?"":" resize.fb")+(a.autoCenter&&!a.locked?" scroll.fb":""),h.update),(b=a.keys)&&g.bind("keydown.fb",function(e){var f=e.which||e.keyCode,g=e.target||e.srcElement;if(27===f&&h.coming)return!1;e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||g&&(g.type||c(g).is("[contenteditable]"))||c.each(b,function(b,g){if(1<a.group.length&&g[f]!==d)return h[b](g[f]),e.preventDefault(),!1;if(-1<c.inArray(f,g))return h[b](),e.preventDefault(),!1})}),c.fn.mousewheel&&a.mouseWheel&&h.wrap.bind("mousewheel.fb",function(b,d,e,f){for(var g=c(b.target||null),i=!1;g.length&&!(i||g.is(".fancybox-skin")||g.is(".fancybox-wrap"));)i=g[0]&&!(g[0].style.overflow&&"hidden"===g[0].style.overflow)&&(g[0].clientWidth&&g[0].scrollWidth>g[0].clientWidth||g[0].clientHeight&&g[0].scrollHeight>g[0].clientHeight),g=c(g).parent();0!==d&&!i&&1<h.group.length&&!a.canShrink&&(0<f||0<e?h.prev(0<f?"down":"left"):(0>f||0>e)&&h.next(0>f?"up":"right"),b.preventDefault())}))},trigger:function(a,b){var d,e=b||h.coming||h.current;if(e){c.isFunction(e[a])&&(d=e[a].apply(e,Array.prototype.slice.call(arguments,1)));if(!1===d)return!1;e.helpers&&c.each(e.helpers,function(b,d){if(d&&h.helpers[b]&&c.isFunction(h.helpers[b][a]))h.helpers[b][a](c.extend(!0,{},h.helpers[b].defaults,d),e)})}g.trigger(a)},isImage:function(a){return m(a)&&a.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(a){return m(a)&&a.match(/\.(swf)((\?|#).*)?$/i)},_start:function(a){var b={},d,e;a=o(a);d=h.group[a]||null;if(!d)return!1;b=c.extend(!0,{},h.opts,d);d=b.margin;e=b.padding;"number"===c.type(d)&&(b.margin=[d,d,d,d]);"number"===c.type(e)&&(b.padding=[e,e,e,e]);b.modal&&c.extend(!0,b,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}});b.autoSize&&(b.autoWidth=b.autoHeight=!0);"auto"===b.width&&(b.autoWidth=!0);"auto"===b.height&&(b.autoHeight=!0);b.group=h.group;b.index=a;h.coming=b;if(!1===h.trigger("beforeLoad"))h.coming=null;else{e=b.type;d=b.href;if(!e)return h.coming=null,h.current&&h.router&&"jumpto"!==h.router?(h.current.index=a,h[h.router](h.direction)):!1;h.isActive=!0;if("image"===e||"swf"===e)b.autoHeight=b.autoWidth=!1,b.scrolling="visible";"image"===e&&(b.aspectRatio=!0);"iframe"===e&&k&&(b.scrolling="scroll");b.wrap=c(b.tpl.wrap).addClass("fancybox-"+(k?"mobile":"desktop")+" fancybox-type-"+e+" fancybox-tmp "+b.wrapCSS).appendTo(b.parent||"body");c.extend(b,{skin:c(".fancybox-skin",b.wrap),outer:c(".fancybox-outer",b.wrap),inner:c(".fancybox-inner",b.wrap)});c.each(["Top","Right","Bottom","Left"],function(a,c){b.skin.css("padding"+c,p(b.padding[a]))});h.trigger("onReady");if("inline"===e||"html"===e){if(!b.content||!b.content.length)return h._error("content")}else if(!d)return h._error("href");"image"===e?h._loadImage():"ajax"===e?h._loadAjax():"iframe"===e?h._loadIframe():h._afterLoad()}},_error:function(a){c.extend(h.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:a,content:h.coming.tpl.error});h._afterLoad()},_loadImage:function(){var a=h.imgPreload=new Image;a.onload=function(){this.onload=this.onerror=null;h.coming.width=this.width/h.opts.pixelRatio;h.coming.height=this.height/h.opts.pixelRatio;h._afterLoad()};a.onerror=function(){this.onload=this.onerror=null;h._error("image")};a.src=h.coming.href;!0!==a.complete&&h.showLoading()},_loadAjax:function(){var a=h.coming;h.showLoading();h.ajaxLoad=c.ajax(c.extend({},a.ajax,{url:a.href,error:function(a,b){h.coming&&"abort"!==b?h._error("ajax",a):h.hideLoading()},success:function(b,c){"success"===c&&(a.content=b,h._afterLoad())}}))},_loadIframe:function(){var a=h.coming,b=c(a.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",k?"auto":a.iframe.scrolling).attr("src",a.href);c(a.wrap).bind("onReset",function(){try{c(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(a){}});a.iframe.preload&&(h.showLoading(),b.one("load",function(){c(this).data("ready",1);k||c(this).bind("load.fb",h.update);c(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();h._afterLoad()}));a.content=b.appendTo(a.inner);a.iframe.preload||h._afterLoad()},_preloadImages:function(){var a=h.group,b=h.current,c=a.length,d=b.preload?Math.min(b.preload,c-1):0,e,f;for(f=1;f<=d;f+=1)e=a[(b.index+f)%c],"image"===e.type&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var a=h.coming,b=h.current,d,e,f,g,i;h.hideLoading();if(a&&!1!==h.isActive)if(!1===h.trigger("afterLoad",a,b))a.wrap.stop(!0).trigger("onReset").remove(),h.coming=null;else{b&&(h.trigger("beforeChange",b),b.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove());h.unbindEvents();d=a.content;e=a.type;f=a.scrolling;c.extend(h,{wrap:a.wrap,skin:a.skin,outer:a.outer,inner:a.inner,current:a,previous:b});g=a.href;switch(e){case"inline":case"ajax":case"html":a.selector?d=c("<div>").html(d).find(a.selector):l(d)&&(d.data("fancybox-placeholder")||d.data("fancybox-placeholder",c('<div class="fancybox-placeholder"></div>').insertAfter(d).hide()),d=d.show().detach(),a.wrap.bind("onReset",function(){c(this).find(d).length&&d.hide().replaceAll(d.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":d=a.tpl.image.replace(/\{href\}/g,g);break;case"swf":d='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+g+'"></param>',i="",c.each(a.swf,function(a,b){d+='<param name="'+a+'" value="'+b+'"></param>';i+=" "+a+'="'+b+'"'}),d+='<embed src="'+g+'" type="application/x-shockwave-flash" width="100%" height="100%"'+i+"></embed></object>"}l(d)&&d.parent().is(a.inner)||a.inner.append(d);h.trigger("beforeShow");a.inner.css("overflow","yes"===f?"scroll":"no"===f?"hidden":f);h._setDimension();h.reposition();h.isOpen=!1;h.coming=null;h.bindEvents();if(!h.isOpened)c(".fancybox-wrap").not(a.wrap).stop(!0).trigger("onReset").remove();else if(b.prevMethod)h.transitions[b.prevMethod]();h.transitions[h.isOpened?a.nextMethod:a.openMethod]();h._preloadImages()}},_setDimension:function(){var a=h.getViewport(),b=0,d=!1,e=!1,d=h.wrap,f=h.skin,g=h.inner,i=h.current,e=i.width,j=i.height,k=i.minWidth,l=i.minHeight,m=i.maxWidth,q=i.maxHeight,r=i.scrolling,s=i.scrollOutside?i.scrollbarWidth:0,t=i.margin,u=o(t[1]+t[3]),v=o(t[0]+t[2]),w,x,y,z,A,B,C,D,E;d.add(f).add(g).width("auto").height("auto").removeClass("fancybox-tmp");t=o(f.outerWidth(!0)-f.width());w=o(f.outerHeight(!0)-f.height());x=u+t;y=v+w;z=n(e)?(a.w-x)*o(e)/100:e;A=n(j)?(a.h-y)*o(j)/100:j;if("iframe"===i.type){if(E=i.content,i.autoHeight&&1===E.data("ready"))try{E[0].contentWindow.document.location&&(g.width(z).height(9999),B=E.contents().find("body"),s&&B.css("overflow-x","hidden"),A=B.outerHeight(!0))}catch(F){}}else if(i.autoWidth||i.autoHeight)g.addClass("fancybox-tmp"),i.autoWidth||g.width(z),i.autoHeight||g.height(A),i.autoWidth&&(z=g.width()),i.autoHeight&&(A=g.height()),g.removeClass("fancybox-tmp");e=o(z);j=o(A);D=z/A;k=o(n(k)?o(k,"w")-x:k);m=o(n(m)?o(m,"w")-x:m);l=o(n(l)?o(l,"h")-y:l);q=o(n(q)?o(q,"h")-y:q);B=m;C=q;i.fitToView&&(m=Math.min(a.w-x,m),q=Math.min(a.h-y,q));x=a.w-u;v=a.h-v;i.aspectRatio?(e>m&&(e=m,j=o(e/D)),j>q&&(j=q,e=o(j*D)),e<k&&(e=k,j=o(e/D)),j<l&&(j=l,e=o(j*D))):(e=Math.max(k,Math.min(e,m)),i.autoHeight&&"iframe"!==i.type&&(g.width(e),j=g.height()),j=Math.max(l,Math.min(j,q)));if(i.fitToView)if(g.width(e).height(j),d.width(e+t),a=d.width(),u=d.height(),i.aspectRatio)for(;(a>x||u>v)&&e>k&&j>l&&!(19<b++);)j=Math.max(l,Math.min(q,j-10)),e=o(j*D),e<k&&(e=k,j=o(e/D)),e>m&&(e=m,j=o(e/D)),g.width(e).height(j),d.width(e+t),a=d.width(),u=d.height();else e=Math.max(k,Math.min(e,e-(a-x))),j=Math.max(l,Math.min(j,j-(u-v)));s&&"auto"===r&&j<A&&e+t+s<x&&(e+=s);g.width(e).height(j);d.width(e+t);a=d.width();u=d.height();d=(a>x||u>v)&&e>k&&j>l;e=i.aspectRatio?e<B&&j<C&&e<z&&j<A:(e<B||j<C)&&(e<z||j<A);c.extend(i,{dim:{width:p(a),height:p(u)},origWidth:z,origHeight:A,canShrink:d,canExpand:e,wPadding:t,hPadding:w,wrapSpace:u-f.outerHeight(!0),skinSpace:f.height()-j});!E&&i.autoHeight&&j>l&&j<q&&!e&&g.height("auto")},_getPosition:function(a){var b=h.current,c=h.getViewport(),d=b.margin,e=h.wrap.width()+d[1]+d[3],f=h.wrap.height()+d[0]+d[2],d={position:"absolute",top:d[0],left:d[3]};b.autoCenter&&b.fixed&&!a&&f<=c.h&&e<=c.w?d.position="fixed":b.locked||(d.top+=c.y,d.left+=c.x);d.top=p(Math.max(d.top,d.top+(c.h-f)*b.topRatio));d.left=p(Math.max(d.left,d.left+(c.w-e)*b.leftRatio));return d},_afterZoomIn:function(){var a=h.current;a&&((h.isOpen=h.isOpened=!0,h.wrap.css("overflow","visible").addClass("fancybox-opened"),h.update(),(a.closeClick||a.nextClick&&1<h.group.length)&&h.inner.css("cursor","pointer").bind("click.fb",function(b){c(b.target).is("a")||c(b.target).parent().is("a")||(b.preventDefault(),h[a.closeClick?"close":"next"]())}),a.closeBtn&&c(a.tpl.closeBtn).appendTo(h.skin).bind("click.fb",function(a){a.preventDefault();h.close()}),a.arrows&&1<h.group.length&&((a.loop||0<a.index)&&c(a.tpl.prev).appendTo(h.outer).bind("click.fb",h.prev),(a.loop||a.index<h.group.length-1)&&c(a.tpl.next).appendTo(h.outer).bind("click.fb",h.next)),h.trigger("afterShow"),a.loop||a.index!==a.group.length-1)?h.opts.autoPlay&&!h.player.isActive&&(h.opts.autoPlay=!1,h.play(!0)):h.play(!1))},_afterZoomOut:function(a){a=a||h.current;c(".fancybox-wrap").trigger("onReset").remove();c.extend(h,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null});h.trigger("afterClose",a)}});h.transitions={getOrigPosition:function(){var a=h.current,b=a.element,c=a.orig,d={},e=50,f=50,g=a.hPadding,i=a.wPadding,j=h.getViewport();!c&&a.isDom&&b.is(":visible")&&(c=b.find("img:first"),c.length||(c=b));l(c)?(d=c.offset(),c.is("img")&&(e=c.outerWidth(),f=c.outerHeight())):(d.top=j.y+(j.h-f)*a.topRatio,d.left=j.x+(j.w-e)*a.leftRatio);if("fixed"===h.wrap.css("position")||a.locked)d.top-=j.y,d.left-=j.x;return d={top:p(d.top-g*a.topRatio),left:p(d.left-i*a.leftRatio),width:p(e+i),height:p(f+g)}},step:function(a,b){var c,d,e=b.prop;d=h.current;var f=d.wrapSpace,g=d.skinSpace;if("width"===e||"height"===e)c=b.end===b.start?1:(a-b.start)/(b.end-b.start),h.isClosing&&(c=1-c),d="width"===e?d.wPadding:d.hPadding,d=a-d,h.skin[e](o("width"===e?d:d-f*c)),h.inner[e](o("width"===e?d:d-f*c-g*c))},zoomIn:function(){var a=h.current,b=a.pos,d=a.openEffect,e="elastic"===d,f=c.extend({opacity:1},b);delete f.position;e?(b=this.getOrigPosition(),a.openOpacity&&(b.opacity=.1)):"fade"===d&&(b.opacity=.1);h.wrap.css(b).animate(f,{duration:"none"===d?0:a.openSpeed,easing:a.openEasing,step:e?this.step:null,complete:h._afterZoomIn})},zoomOut:function(){var a=h.current,b=a.closeEffect,c="elastic"===b,d={opacity:.1};c&&(d=this.getOrigPosition(),a.closeOpacity&&(d.opacity=.1));h.wrap.animate(d,{duration:"none"===b?0:a.closeSpeed,easing:a.closeEasing,step:c?this.step:null,complete:h._afterZoomOut})},changeIn:function(){var a=h.current,b=a.nextEffect,c=a.pos,d={opacity:1},e=h.direction,f;c.opacity=.1;"elastic"===b&&(f="down"===e||"up"===e?"top":"left","down"===e||"right"===e?(c[f]=p(o(c[f])-200),d[f]="+=200px"):(c[f]=p(o(c[f])+200),d[f]="-=200px"));"none"===b?h._afterZoomIn():h.wrap.css(c).animate(d,{duration:a.nextSpeed,easing:a.nextEasing,complete:h._afterZoomIn})},changeOut:function(){var a=h.previous,b=a.prevEffect,d={opacity:.1},e=h.direction;"elastic"===b&&(d["down"===e||"up"===e?"top":"left"]=("up"===e||"left"===e?"-":"+")+"=200px");a.wrap.animate(d,{duration:"none"===b?0:a.prevSpeed,easing:a.prevEasing,complete:function(){c(this).trigger("onReset").remove()}})}};h.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!k,fixed:!0},overlay:null,fixed:!1,el:c("html"),create:function(a){var b;a=c.extend({},this.defaults,a);this.overlay&&this.close();b=h.coming?h.coming.parent:a.parent;this.overlay=c('<div class="fancybox-overlay"></div>').appendTo(b&&b.lenth?b:"body");this.fixed=!1;a.fixed&&h.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(a){var b=this;a=c.extend({},this.defaults,a);this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(a);this.fixed||(f.bind("resize.overlay",c.proxy(this.update,this)),this.update());a.closeClick&&this.overlay.bind("click.overlay",function(a){if(c(a.target).hasClass("fancybox-overlay"))return h.isActive?h.close():b.close(),!1});this.overlay.css(a.css).show()},close:function(){f.unbind("resize.overlay");this.el.hasClass("fancybox-lock")&&(c(".fancybox-margin").removeClass("fancybox-margin"),this.el.removeClass("fancybox-lock"),f.scrollTop(this.scrollV).scrollLeft(this.scrollH));c(".fancybox-overlay").remove().hide();c.extend(this,{overlay:null,fixed:!1})},update:function(){var a="100%",c;this.overlay.width(a).height("100%");i?(c=Math.max(b.documentElement.offsetWidth,b.body.offsetWidth),g.width()>c&&(a=g.width())):g.width()>f.width()&&(a=g.width());this.overlay.width(a).height(g.height())},onReady:function(a,b){var d=this.overlay;c(".fancybox-overlay").stop(!0,!0);d||this.create(a);a.locked&&this.fixed&&b.fixed&&(b.locked=this.overlay.append(b.wrap),b.fixed=!1);!0===a.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(a,b){b.locked&&!this.el.hasClass("fancybox-lock")&&(!1!==this.fixPosition&&c("*").filter(function(){return"fixed"===c(this).css("position")&&!c(this).hasClass("fancybox-overlay")&&!c(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin"),this.scrollV=f.scrollTop(),this.scrollH=f.scrollLeft(),this.el.addClass("fancybox-lock"),f.scrollTop(this.scrollV).scrollLeft(this.scrollH));this.open(a)},onUpdate:function(){this.fixed||this.update()},afterClose:function(a){this.overlay&&!h.coming&&this.overlay.fadeOut(a.speedOut,c.proxy(this.close,this))}};h.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(a){var b=h.current,d=b.title,e=a.type;c.isFunction(d)&&(d=d.call(b.element,b));if(m(d)&&""!==c.trim(d)){b=c('<div class="fancybox-title fancybox-title-'+e+'-wrap">'+d+"</div>");switch(e){case"inside":e=h.skin;break;case"outside":e=h.wrap;break;case"over":e=h.inner;break;default:e=h.skin,b.appendTo("body"),i&&b.width(b.width()),b.wrapInner('<span class="child"></span>'),h.current.margin[2]+=Math.abs(o(b.css("margin-bottom")))}b["top"===a.position?"prependTo":"appendTo"](e)}}};c.fn.fancybox=function(a){var b,d=c(this),e=this.selector||"",f=function(f){var g=c(this).blur(),i=b,j,k;f.ctrlKey||f.altKey||f.shiftKey||f.metaKey||g.is(".fancybox-wrap")||(j=a.groupAttr||"data-fancybox-group",k=g.attr(j),k||(j="rel",k=g.get(0)[j]),k&&""!==k&&"nofollow"!==k&&(g=e.length?c(e):d,g=g.filter("["+j+'="'+k+'"]'),i=g.index(this)),a.index=i,!1!==h.open(g,a)&&f.preventDefault())};a=a||{};b=a.index||0;e&&!1!==a.live?g.undelegate(e,"click.fb-start").delegate(e+":not('.fancybox-item, .fancybox-nav')","click.fb-start",f):d.unbind("click.fb-start").bind("click.fb-start",f);this.filter("[data-fancybox-start=1]").trigger("click");return this};g.ready(function(){var b,f;c.scrollbarWidth===d&&(c.scrollbarWidth=function(){var a=c('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),b=a.children(),b=b.innerWidth()-b.height(99).innerWidth();a.remove();return b});c.support.fixedPosition===d&&(c.support.fixedPosition=function(){var a=c('<div style="position:fixed;top:20px;"></div>').appendTo("body"),b=20===a[0].offsetTop||15===a[0].offsetTop;a.remove();return b}());c.extend(h.defaults,{scrollbarWidth:c.scrollbarWidth(),fixed:c.support.fixedPosition,parent:c("body")});b=c(a).width();e.addClass("fancybox-lock-test");f=c(a).width();e.removeClass("fancybox-lock-test")})})(window,document,jQuery);(function(a){"use strict";var b=a.fancybox,c=function(b,c,d){d=d||"";if(a.type(d)==="object"){d=a.param(d,true)}a.each(c,function(a,c){b=b.replace("$"+a,c||"")});if(d.length){b+=(b.indexOf("?")>0?"&":"?")+d}return b};b.helpers.media={defaults:{youtube:{matcher:/(youtube\.com|youtu\.be|youtube-nocookie\.com)\/(watch\?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*)).*/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"opaque",enablejsapi:1},type:"iframe",url:"//www.youtube.com/embed/$3"},vimeo:{matcher:/(?:vimeo(?:pro)?.com)\/(?:[^\d]+)?(\d+)(?:.*)/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},type:"iframe",url:"//player.vimeo.com/video/$1"},metacafe:{matcher:/metacafe.com\/(?:watch|fplayer)\/([\w\-]{1,10})/,params:{autoPlay:"yes"},type:"swf",url:function(b,c,d){d.swf.flashVars="playerVars="+a.param(c,true);return"//www.metacafe.com/fplayer/"+b[1]+"/.swf"}},dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:"swf",url:"//www.dailymotion.com/swf/video/$1"},twitvid:{matcher:/twitvid\.com\/([a-zA-Z0-9_\-\?\=]+)/i,params:{autoplay:0},type:"iframe",url:"//www.twitvid.com/embed.php?guid=$1"},twitpic:{matcher:/twitpic\.com\/(?!(?:place|photos|events)\/)([a-zA-Z0-9\?\=\-]+)/i,type:"image",url:"//twitpic.com/show/full/$1/"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},google_maps:{matcher:/maps\.google\.([a-z]{2,3}(\.[a-z]{2})?)\/(\?ll=|maps\?)(.*)/i,type:"iframe",url:function(a){return"//maps.google."+a[1]+"/"+a[3]+""+a[4]+"&output="+(a[4].indexOf("layer=c")>0?"svembed":"embed");

}}},beforeLoad:function(b,d){var e=d.href||"",f=false,g,h,i,j;for(g in b){if(b.hasOwnProperty(g)){h=b[g];i=e.match(h.matcher);if(i){f=h.type;j=a.extend(true,{},h.params,d[g]||(a.isPlainObject(b[g])?b[g].params:null));e=a.type(h.url)==="function"?h.url.call(this,i,j,d):c(h.url,i,j);break}}}if(f){d.href=e;d.type=f;d.autoHeight=false}}}})(jQuery);